!function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=r(1),a=i(n),s=r(30),o=i(s);window.Neo={Configurator:a["default"],Input:o["default"],ReasonsPlugin:{conditionals:{}}}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=i(a);r(3);var o=r(4),p=i(o),l=r(5),c=i(l),u=r(6),y=i(u),d=r(7),g=i(d),h=r(9),f=i(h),m=r(19),v=i(m),x=r(21),b=i(x),w=r(22),k=i(w),T=r(25),_=i(T);r(18),r(26);var $={namespace:[],blockTypes:[],groups:[],fieldLayoutHtml:""};t["default"]=p["default"].Base.extend({_templateNs:[],_items:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},$,t);var r=c["default"].formatInputId(t.namespace),i=(0,s["default"])("#"+r+"-neo-configurator"),a=i.children(".field").children(".input");this._templateNs=y["default"].parse(t.namespace),this._fieldLayoutHtml=t.fieldLayoutHtml,this._items=[],y["default"].enter(this._templateNs),this.$container=(0,s["default"])((0,_["default"])()),a.append(this.$container),y["default"].leave();var o=this.$container.find("[data-neo]");this.$mainContainer=o.filter('[data-neo="container.main"]'),this.$sidebarContainer=o.filter('[data-neo="container.sidebar"]'),this.$blockTypesContainer=o.filter('[data-neo="container.blockTypes"]'),this.$settingsContainer=o.filter('[data-neo="container.settings"]'),this.$fieldLayoutContainer=o.filter('[data-neo="container.fieldLayout"]'),this.$blockTypeButton=o.filter('[data-neo="button.blockType"]'),this.$groupButton=o.filter('[data-neo="button.group"]'),this.$settingsButton=o.filter('[data-neo="button.settings"]'),this.$fieldLayoutButton=o.filter('[data-neo="button.fieldLayout"]'),this._itemSort=new p["default"].DragSort(null,{container:this.$blockTypeItemsContainer,handle:'[data-neo-bt="button.move"], [data-neo-g="button.move"]',axis:"y",onSortChange:function(){return e._updateItemOrder()}});var l=[],u=[].concat(n(this._templateNs),["blockTypes"]),d=[].concat(n(this._templateNs),["groups"]),h=!0,m=!1,x=void 0;try{for(var w,T=t.blockTypes[Symbol.iterator]();!(h=(w=T.next()).done);h=!0){var O=w.value,B=new f["default"]({namespace:[].concat(n(u),[O.id]),sortOrder:O.sortOrder,id:O.id,name:O.name,handle:O.handle,maxBlocks:O.maxBlocks,errors:O.errors}),S=new v["default"]({namespace:[].concat(n(u),[O.id]),html:this._fieldLayoutHtml,layout:O.fieldLayout,blockId:O.id}),N=new g["default"]({namespace:u,settings:B,fieldLayout:S});l.push(N)}}catch(j){m=!0,x=j}finally{try{!h&&T["return"]&&T["return"]()}finally{if(m)throw x}}var I=!0,A=!1,L=void 0;try{for(var E,C=t.groups[Symbol.iterator]();!(I=(E=C.next()).done);I=!0){var M=E.value,F=new k["default"]({namespace:d,sortOrder:M.sortOrder,name:M.name}),P=new b["default"]({namespace:d,settings:F});l.push(P)}}catch(j){A=!0,L=j}finally{try{!I&&C["return"]&&C["return"]()}finally{if(A)throw L}}var D=!0,R=!1,U=void 0;try{for(var z,H=l.sort(function(e,t){return e.getSettings().getSortOrder()-t.getSettings().getSortOrder()})[Symbol.iterator]();!(D=(z=H.next()).done);D=!0){var G=z.value;this.addItem(G)}}catch(j){R=!0,U=j}finally{try{!D&&H["return"]&&H["return"]()}finally{if(R)throw U}}this.selectTab("settings"),this.addListener(this.$blockTypeButton,"click","@newBlockType"),this.addListener(this.$groupButton,"click","@newGroup"),this.addListener(this.$settingsButton,"click",function(){return e.selectTab("settings")}),this.addListener(this.$fieldLayoutButton,"click",function(){return e.selectTab("fieldLayout")})},addItem:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?-1:arguments[1],i=e.getSettings();if(r>=0&&r<this._items.length?e.$container.insertAt(r,this.$blockTypesContainer):this.$blockTypesContainer.append(e.$container),this._itemSort.addItems(e.$container),i&&this.$settingsContainer.append(i.$container),this.$mainContainer.removeClass("hidden"),this.addListener(e.$container,"click","@selectItem"),e.on("destroy.configurator",function(){return t.removeItem(e,e instanceof g["default"])}),e instanceof g["default"]){var n=e.getFieldLayout();n&&this.$fieldLayoutContainer.append(n.$container)}this._items.push(e),this._updateItemOrder(),this.trigger("addItem",{item:e,index:r})},removeItem:function(e,t){if(t="boolean"==typeof t?t:!1){var r=c["default"].t("Are you sure you want to delete this {type}?",{type:e instanceof g["default"]?"block type":e instanceof b["default"]?"group":"item"});confirm(r)&&this.removeItem(e,!1)}else{var i=e.getSettings();if(this._itemSort.removeItems(e.$container),e.$container.remove(),i&&i.$container.remove(),e instanceof g["default"]){var n=e.getFieldLayout();n&&n.$container.remove()}this.removeListener(e.$container,"click"),e.off(".configurator"),this._updateItemOrder(),0===this._items.length&&this.$mainContainer.addClass("hidden"),this.trigger("removeItem",{item:e})}},getItems:function(){return Array.from(this._items)},getItemByElement:function(e){return this._items.find(function(t){return t.$container.is(e)})},selectItem:function(e,t){t="boolean"==typeof t?t:!0;var r=e?e.getSettings():null,i=!0,n=!1,a=void 0;try{for(var s,o=this._items[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l=s.value;l.toggleSelect(l===e)}}catch(c){n=!0,a=c}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw a}}t&&r&&!p["default"].isMobileBrowser()&&setTimeout(function(){return r.getFocusInput().focus()},100)},getBlockTypes:function(){return this._items.filter(function(e){return e instanceof g["default"]})},getGroups:function(){return this._items.filter(function(e){return e instanceof b["default"]})},selectTab:function(e){this.$settingsContainer.toggleClass("hidden","settings"!==e),this.$fieldLayoutContainer.toggleClass("hidden","fieldLayout"!==e),this.$settingsButton.toggleClass("is-selected","settings"===e),this.$fieldLayoutButton.toggleClass("is-selected","fieldLayout"===e)},_updateItemOrder:function(){var e=this,t=[];this._itemSort.$items.each(function(r,i){var n=e.getItemByElement(i);if(n){var a=n.getSettings();a&&a.setSortOrder(r+1),t.push(n)}}),this._items=t},"@newBlockType":function(){var e=[].concat(n(this._templateNs),["blockTypes"]),t=f["default"].getNewId(),r=new f["default"]({namespace:[].concat(n(e),[t]),sortOrder:this._items.length,id:t}),i=new v["default"]({namespace:[].concat(n(e),[t]),html:this._fieldLayoutHtml,blockId:t}),a=new g["default"]({namespace:e,settings:r,fieldLayout:i});this.addItem(a),this.selectItem(a)},"@newGroup":function(){var e=[].concat(n(this._templateNs),["groups"]),t=new k["default"]({namespace:e,sortOrder:this._items.length}),r=new b["default"]({namespace:e,settings:t});this.addItem(r),this.selectItem(r)},"@selectItem":function(e){var t=this.getItemByElement(e.currentTarget);this.selectItem(t)}})},function(e,t){e.exports=jQuery},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=r(2),a=i(n);a["default"].fn.insertAt=function(e,t){return this.each(function(){0===e?t.prepend(this):t.children().eq(e-1).after(this)})}},function(e,t){e.exports=Garnish},function(e,t){e.exports=Craft},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(4),s=i(a),o=s["default"].Base.extend({_stack:[[]],enter:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if("string"==typeof e&&(e=this.fromFieldName(e)),t){var r=this.getNamespace();r.push.apply(r,n(e)),e=r}this._stack.push(e)},enterByFieldName:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];this.enter(this.fromFieldName(e),t)},leave:function(){return this._stack.length>1?this._stack.pop():this.getNamespace()},getNamespace:function(){return Array.from(this._stack[this._stack.length-1])},parse:function(e){return"string"==typeof e?e.indexOf("[")>-1?this.fromFieldName(e):e.indexOf("-")>-1?e.split("-"):e.indexOf(".")>-1?e.split("."):e:Array.from(e)},value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"-":arguments[1],r=this.getNamespace();return r.push(e),r.join(t)},fieldName:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=this.toFieldName();return t?t+e.replace(/([^'"\[\]]+)([^'"]*)/,"[$1]$2"):e},toString:function(){var e=arguments.length<=0||void 0===arguments[0]?"-":arguments[0];return this.getNamespace().join(e)},toFieldName:function(){var e=this.getNamespace();switch(e.length){case 0:return"";case 1:return e[0]}return e[0]+"["+e.slice(1).join("][")+"]"},fromFieldName:function(e){return e.match(/[^\[\]\s]+/g)||[]}});t["default"]=new o},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=(i(s),r(5)),p=(i(o),r(6)),l=i(p),c=r(8),u=i(c),y=r(9),d=(i(y),r(19)),g=(i(d),r(20)),h=i(g);r(18);var f={namespace:[],fieldLayout:null};t["default"]=u["default"].extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.base(t);var r=this.getSettings();t=Object.assign({},f,t),this._templateNs=l["default"].parse(t.namespace),this._fieldLayout=t.fieldLayout,l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,h["default"])({settings:r,fieldLayout:this._fieldLayout})),l["default"].leave();var i=this.$container.find("[data-neo-bt]");this.$nameText=i.filter('[data-neo-bt="text.name"]'),this.$moveButton=i.filter('[data-neo-bt="button.move"]'),r&&(r.on("change",function(){return e._updateTemplate()}),r.on("destroy",function(){return e.trigger("destroy")})),this.deselect()},getFieldLayout:function(){return this._fieldLayout},toggleSelect:function(e){this.base(e);var t=this.getSettings(),r=this.getFieldLayout(),i=this.isSelected();t&&t.$container.toggleClass("hidden",!i),r&&r.$container.toggleClass("hidden",!i),this.$container.toggleClass("is-selected",i)},_updateTemplate:function(){var e=this.getSettings(),t=this.getFieldLayout();e&&(this.$nameText.text(e.getName()),t&&t.setBlockName(e.getName()))}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=(i(n),r(4)),s=i(a),o={settings:null};t["default"]=s["default"].Base.extend({_selected:!1,init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},o,e),this._settings=e.settings},getSettings:function(){return this._settings},select:function(){this.toggleSelect(!0)},deselect:function(){this.toggleSelect(!1)},toggleSelect:function(e){this._selected="boolean"==typeof e?e:!this._selected,this.trigger("toggleSelect",{selected:this._selected})},isSelected:function(){return this._selected}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=(i(s),r(5)),p=i(o),l=r(6),c=i(l),u=r(10),y=i(u),d=r(11),g=i(d);r(18);var h={namespace:[],id:null,sortOrder:0,name:"",handle:"",maxBlocks:0,childBlocks:null,errors:{}};t["default"]=y["default"].extend({_templateNs:[],$sortOrderInput:new a["default"],$nameInput:new a["default"],$handleInput:new a["default"],$maxBlocksInput:new a["default"],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},h,t),this._templateNs=c["default"].parse(t.namespace),this._id=t.id,this._errors=t.errors,this.setSortOrder(t.sortOrder),this.setName(t.name),this.setHandle(t.handle),this.setMaxBlocks(t.maxBlocks),c["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,g["default"])({id:this.getId(),sortOrder:this.getSortOrder(),name:this.getName(),handle:this.getHandle(),maxBlocks:this.getMaxBlocks(),errors:this.getErrors()})),c["default"].leave();var r=this.$container.find("[data-neo-bts]");this.$sortOrderInput=r.filter('[data-neo-bts="input.sortOrder"]'),this.$nameInput=r.filter('[data-neo-bts="input.name"]'),this.$handleInput=r.filter('[data-neo-bts="input.handle"]'),this.$maxBlocksInput=r.filter('[data-neo-bts="input.maxBlocks"]'),this.$deleteButton=r.filter('[data-neo-bts="button.delete"]'),this._handleGenerator=new p["default"].HandleGenerator(this.$nameInput,this.$handleInput),this.addListener(this.$nameInput,"keyup change",function(){return e.setName(e.$nameInput.val())}),this.addListener(this.$handleInput,"keyup change",function(){return e.setHandle(e.$handleInput.val())}),this.addListener(this.$maxBlocksInput,"keyup change",function(){return e.setMaxBlocks(e.$maxBlocksInput.val())}),this.addListener(this.$deleteButton,"click",function(){return e.destroy()})},getFocusInput:function(){return this.$nameInput},getId:function(){return this._id},isNew:function(){return/^new/.test(this.getId())},getErrors:function(){return this._errors},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){var t=this._name;this._name=e,this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})},getHandle:function(){return this._handle},setHandle:function(e){var t=this._handle;this._handle=e,this.$handleInput.val(this._handle),this.trigger("change",{property:"handle",oldValue:t,newValue:this._handle})},getMaxBlocks:function(){return this._maxBlocks},setMaxBlocks:function(e){var t=this._maxBlocks;this._maxBlocks=Math.max(0,0|e),this.$maxBlocksInput.val(this._maxBlocks>0?this._maxBlocks:null),this.trigger("change",{property:"maxBlocks",oldValue:t,newValue:this._maxBlocks})}},{_totalNewBlockTypes:0,getNewId:function(){return"new"+this._totalNewBlockTypes++}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=i(s);t["default"]=o["default"].Base.extend({$container:new a["default"],_sortOrder:0,getSortOrder:function(){return this._sortOrder},setSortOrder:function(e){var t=this._sortOrder;this._sortOrder=0|e,this.trigger("change",{property:"sortOrder",oldValue:t,newValue:this._sortOrder})},getFocusElement:function(){return new a["default"]},destroy:function(){this.trigger("destroy")}})},function(e,t,r){r(12);var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/configurator/templates/blocktype_settings.twig",data:[{type:"logic",token:{type:"Twig.logic.type.import",expression:"'../../macros.twig'",contextName:"macros",stack:[{type:"Twig.expression.type.string",value:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/macros.twig"}]}},{type:"raw",value:'\n<div>\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sortOrder"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sortOrder",match:["sortOrder"]}]},{type:"raw",value:'" data-neo-bts="input.sortOrder">\n\n	<div>\n		'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"What this block type will be called in the CP."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.name"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"handle"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Handle"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"How you'll refer to this block type in the templates."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"required"},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"class"},{type:"Twig.expression.type.string",value:"code"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"handle",match:["handle"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"handle"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.handle"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n\n		"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"number"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"maxBlocks"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Max Blocks"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"The maximum number of blocks of this type the field is allowed to have."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"fullWidth"},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.variable",value:"maxBlocks",match:["maxBlocks"]},{type:"Twig.expression.type.null",value:null},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"errors"},{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.key.period",key:"maxBlocks"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"min"},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"style"},{type:"Twig.expression.type.string",value:"width: 80px;"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-bts"},{type:"Twig.expression.type.string",value:"input.maxBlocks"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n	</div>\n\n	<hr>\n\n	<a class="error delete" data-neo-bts="button.delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete block type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a>\n</div>\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/macros.twig",data:[{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"field",parameters:["settings"],output:[{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"label",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"label"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"instructions",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"instructions"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"required",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"required"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"locale",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"locale"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"input",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"input"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"warning",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"warning"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"errors",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"errors"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\n	<div class="field">\n		'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.operator.binary",value:"or",precidence:14,associativity:"leftToRight",operator:"or"}],output:[{type:"raw",value:'			<div class="heading">\n				'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]}],output:[{type:"raw",value:"					<label"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"required",match:["required"]}],output:[{type:"raw",value:' class="required"'}]}},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}],output:[{type:"raw",value:' for="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:">\n						"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"label",match:["label"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\n						"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}],output:[{type:"raw",value:'							<span class="locale">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"locale",match:["locale"]}]},{type:"raw",value:"</span>\n						"}]}},{type:"raw",value:"					</label>\n				"}]}},{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]}],output:[{type:"raw",value:'					<div class="instructions">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"instructions",match:["instructions"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"</div>\n				"}]}},{type:"raw",value:"			</div>\n		"}]}},{type:"raw",value:'		<div class="input '},{type:"output",stack:[{type:"Twig.expression.type.variable",
value:"orientation",match:["orientation"]}]},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:" errors"}]}},{type:"raw",value:'">\n			'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.filter",value:"raw",match:["|raw","raw"]}]},{type:"raw",value:"\n		</div>\n		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}],output:[{type:"raw",value:'			<p class="warning">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"warning",match:["warning"]}]},{type:"raw",value:"</p>\n		"}]}},{type:"raw",value:"		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:'			<ul class="errors">\n				'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"error",expression:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]}],output:[{type:"raw",value:"					<li>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"error",match:["error"]}]},{type:"raw",value:"</li>\n				"}]}},{type:"raw",value:"			</ul>\n		"}]}},{type:"raw",value:"	</div>\n"}]}},{type:"raw",value:"\n"},{type:"logic",token:{type:"Twig.logic.type.macro",macroName:"input",parameters:["settings"],output:[{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.from",expression:"_self",macroNames:{field:"field"},stack:[{type:"Twig.expression.type.variable",value:"_self",match:["_self"]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"settings",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"type"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"attributes",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"attributes"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"id"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"value",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"value"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"class",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"class"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"	"},{type:"logic",token:{type:"Twig.logic.type.set",key:"fullWidth",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"fullWidth"},{type:"Twig.expression.type.filter",value:"default",match:["|default","default"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.bool",value:!0},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"\n	"},{type:"logic",token:{type:"Twig.logic.type.setcapture",key:"input",output:[{type:"raw",value:'		<input class="text '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"fullWidth",match:["fullWidth"]},{type:"Twig.expression.type.string",value:"fullwidth"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"class",match:["class"]}]},{type:"raw",value:'"\n			   type="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]}]},{type:"raw",value:'"\n			   id="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"id",match:["id"]}]},{type:"raw",value:'"\n			   name="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]}]},{type:"raw",value:'"\n			   value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"value",match:["value"]}]},{type:"raw",value:'"\n			   '},{type:"logic",token:{type:"Twig.logic.type.for",key_var:"attrName",value_var:"attrValue",expression:[{type:"Twig.expression.type.variable",value:"attributes",match:["attributes"]}],output:[{type:"raw",value:"		           "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrName",match:["attrName"]}]},{type:"raw",value:'="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"attrValue",match:["attrValue"]}]},{type:"raw",value:'"\n		       '}]}},{type:"raw",value:'			   autocomplete="off">\n	'}]}},{type:"raw",value:"\n	"},{type:"output",stack:[{type:"Twig.expression.type._function",fn:"field",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.filter",value:"merge",match:["|merge","merge"],params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"input"},{type:"Twig.expression.type.variable",value:"input",match:["input"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n"}]}}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i;(function(e,n){/**
	 * Twig.js 0.8.9
	 *
	 * @copyright 2011-2015 John Roepke and the Twig.js Contributors
	 * @license   Available under the BSD 2-Clause License
	 * @link      https://github.com/justjohn/twig.js
	 */
var a=function(e){return e.VERSION="0.8.9",e}(a||{}),a=function(e){"use strict";function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e}return e.trace=!1,e.debug=!1,e.cache=!0,e.placeholders={parent:"{{|PARENT|}}"},e.indexOf=function(e,t){if(Array.prototype.hasOwnProperty("indexOf"))return e.indexOf(t);if(void 0===e||null===e)throw new TypeError;var r=Object(e),i=r.length>>>0;if(0===i)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=i)return-1;for(var a=n>=0?n:Math.max(i-Math.abs(n),0);i>a;a++)if(a in r&&r[a]===t)return a;return e==t?0:-1},e.forEach=function(e,t,r){if(Array.prototype.forEach)return e.forEach(t,r);var i,n;if(null==e)throw new TypeError(" this is null or not defined");var a=Object(e),s=a.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(r&&(i=r),n=0;s>n;){var o;n in a&&(o=a[n],t.call(i,o,n,a)),n++}},e.merge=function(t,r,i){return e.forEach(Object.keys(r),function(e){(!i||e in t)&&(t[e]=r[e])}),t},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){var e=this.name+": "+this.message;return e},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?"undefined"!=typeof console.error?e.log.error=function(){console.error.apply(console,arguments)}:"undefined"!=typeof console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(e){var t=function(){};return t.prototype=e,new t},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.output_whitespace_pre,open:"{{-",close:"}}"},{type:e.token.type.output_whitespace_post,open:"{{",close:"-}}"},{type:e.token.type.output_whitespace_both,open:"{{-",close:"-}}"},{type:e.token.type.logic_whitespace_pre,open:"{%-",close:"%}"},{type:e.token.type.logic_whitespace_post,open:"{%",close:"-%}"},{type:e.token.type.logic_whitespace_both,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(t){var r,i,n,a,s={position:null,close_position:null,def:null};for(r=0;r<e.token.definitions.length;r++)i=e.token.definitions[r],n=t.indexOf(i.open),a=t.indexOf(i.close),e.log.trace("Twig.token.findStart: ","Searching for ",i.open," found at ",n),n>=0&&i.open.length!==i.close.length&&0>a||(n>=0&&(null===s.position||n<s.position)?(s.position=n,s.def=i,s.close_position=a):n>=0&&null!==s.position&&n===s.position&&(i.open.length>s.def.open.length?(s.position=n,s.def=i,s.close_position=a):i.open.length===s.def.open.length&&(i.close.length>s.def.close.length?a>=0&&a<s.close_position&&(s.position=n,s.def=i,s.close_position=a):a>=0&&a<s.close_position&&(s.position=n,s.def=i,s.close_position=a))));return delete s.close_position,s},e.token.findEnd=function(t,r,i){for(var n,a,s=null,o=!1,p=0,l=null,c=null,u=null,y=null,d=null,g=null;!o;){if(l=null,c=null,u=t.indexOf(r.close,p),!(u>=0))throw new e.Error("Unable to find closing bracket '"+r.close+"' opened near template position "+i);if(s=u,o=!0,r.type===e.token.type.comment)break;if(r.type===e.token.type.raw)break;for(a=e.token.strings.length,n=0;a>n;n+=1)d=t.indexOf(e.token.strings[n],p),d>0&&u>d&&(null===l||l>d)&&(l=d,c=e.token.strings[n]);if(null!==l)for(y=l+1,s=null,o=!1;;){if(g=t.indexOf(c,y),0>g)throw"Unclosed string in template";if("\\"!==t.substr(g-1,1)){p=g+1;break}y=g+1}}return s},e.tokenize=function(t){for(var r=[],i=0,n=null,a=null;t.length>0;)if(n=e.token.findStart(t),e.log.trace("Twig.tokenize: ","Found token: ",n),null!==n.position){if(n.position>0&&r.push({type:e.token.type.raw,value:t.substring(0,n.position)}),t=t.substr(n.position+n.def.open.length),i+=n.position+n.def.open.length,a=e.token.findEnd(t,n.def,i),e.log.trace("Twig.tokenize: ","Token ends at ",a),r.push({type:n.def.type,value:t.substring(0,a).trim()}),"\n"===t.substr(a+n.def.close.length,1))switch(n.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1}t=t.substr(a+n.def.close.length),i+=a+n.def.close.length}else r.push({type:e.token.type.raw,value:t}),t="";return r},e.compile=function(t){try{for(var r=[],i=[],n=[],a=null,s=null,o=null,p=null,l=null,c=null,u=null,y=null,d=null,g=null,h=null,f=null,m=function(t){e.expression.compile.apply(this,[t]),i.length>0?n.push(t):r.push(t)},v=function(t){if(s=e.logic.compile.apply(this,[t]),g=s.type,h=e.logic.handler[g].open,f=e.logic.handler[g].next,e.log.trace("Twig.compile: ","Compiled logic token to ",s," next is: ",f," open is : ",h),void 0!==h&&!h){if(p=i.pop(),u=e.logic.handler[p.type],e.indexOf(u.next,g)<0)throw new Error(g+" not expected after a "+p.type);p.output=p.output||[],p.output=p.output.concat(n),n=[],d={type:e.token.type.logic,token:p},i.length>0?n.push(d):r.push(d)}void 0!==f&&f.length>0?(e.log.trace("Twig.compile: ","Pushing ",s," to logic stack."),i.length>0&&(p=i.pop(),p.output=p.output||[],p.output=p.output.concat(n),i.push(p),n=[]),i.push(s)):void 0!==h&&h&&(d={type:e.token.type.logic,token:s},i.length>0?n.push(d):r.push(d))};t.length>0;){switch(a=t.shift(),l=r[r.length-1],c=n[n.length-1],y=t[0],e.log.trace("Compiling token ",a),a.type){case e.token.type.raw:i.length>0?n.push(a):r.push(a);break;case e.token.type.logic:v.call(this,a);break;case e.token.type.comment:break;case e.token.type.output:m.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:switch(a.type!==e.token.type.output_whitespace_post&&a.type!==e.token.type.logic_whitespace_post&&(l&&l.type===e.token.type.raw&&(r.pop(),null===l.value.match(/^\s*$/)&&(l.value=l.value.trim(),r.push(l))),c&&c.type===e.token.type.raw&&(n.pop(),null===c.value.match(/^\s*$/)&&(c.value=c.value.trim(),n.push(c)))),a.type){case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:m.call(this,a);break;case e.token.type.logic_whitespace_pre:case e.token.type.logic_whitespace_post:case e.token.type.logic_whitespace_both:v.call(this,a)}a.type!==e.token.type.output_whitespace_pre&&a.type!==e.token.type.logic_whitespace_pre&&y&&y.type===e.token.type.raw&&(t.shift(),null===y.value.match(/^\s*$/)&&(y.value=y.value.trim(),t.unshift(y)))}e.log.trace("Twig.compile: "," Output: ",r," Logic Stack: ",i," Pending Output: ",n)}if(i.length>0)throw o=i.pop(),new Error("Unable to find an end tag for "+o.type+", expecting one of "+o.next);return r}catch(x){if(e.log.error("Error compiling twig template "+this.id+": "),x.stack?e.log.error(x.stack):e.log.error(x.toString()),this.options.rethrow)throw x}},e.parse=function(t,r){try{var i=[],n=!0,a=this;return e.forEach(t,function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:i.push(e.filters.raw(t.value));break;case e.token.type.logic:var s=t.token,o=e.logic.parse.apply(a,[s,r,n]);void 0!==o.chain&&(n=o.chain),void 0!==o.context&&(r=o.context),void 0!==o.output&&i.push(o.output);break;case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),i.push(e.expression.parse.apply(a,[t.stack,r]))}}),e.output.apply(this,[i])}catch(s){if(e.log.error("Error parsing twig template "+this.id+": "),s.stack?e.log.error(s.stack):e.log.error(s.toString()),this.options.rethrow)throw s;if(e.debug)return s.toString()}},e.prepare=function(t){var r,i;return e.log.debug("Twig.prepare: ","Tokenizing ",t),i=e.tokenize.apply(this,[t]),e.log.debug("Twig.prepare: ","Compiling ",i),r=e.compile.apply(this,[i]),e.log.debug("Twig.prepare: ","Compiled ",r),r},e.output=function(t){if(!this.options.autoescape)return t.join("");var r="html";"string"==typeof this.options.autoescape&&(r=this.options.autoescape);var i=[];return e.forEach(t,function(t){t&&t.twig_markup!==!0&&t.twig_markup!=r&&(t=e.filters.escape(t,[r])),i.push(t)}),e.Markup(i.join(""))},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(t){if("prototype"===t)throw new e.Error(t+" is not a valid twig identifier");if(e.cache&&e.Templates.registry.hasOwnProperty(t))throw new e.Error("There is already a template with the ID "+t);return!0},e.Templates.registerLoader=function(t,r,i){if("function"!=typeof r)throw new e.Error("Unable to add loader for "+t+": Invalid function reference given.");i&&(r=r.bind(i)),this.loaders[t]=r},e.Templates.unRegisterLoader=function(e){this.isRegisteredLoader(e)&&delete this.loaders[e]},e.Templates.isRegisteredLoader=function(e){return this.loaders.hasOwnProperty(e)},e.Templates.registerParser=function(t,r,i){if("function"!=typeof r)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");i&&(r=r.bind(i)),this.parsers[t]=r},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return this.parsers.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Templates.loadRemote=function(t,r,i,n){var a;return void 0===r.async&&(r.async=!0),void 0===r.id&&(r.id=t),e.cache&&e.Templates.registry.hasOwnProperty(r.id)?("function"==typeof i&&i(e.Templates.registry[r.id]),e.Templates.registry[r.id]):(r.parser=r.parser||"twig",a=this.loaders[r.method]||this.loaders.fs,a.apply(this,arguments))},e.Template=function(r){var i=r.data,n=r.id,a=r.blocks,s=r.macros||{},o=r.base,p=r.path,l=r.url,c=r.name,u=r.method,y=r.options;this.id=n,this.method=u,this.base=o,this.path=p,this.url=l,this.name=c,this.macros=s,this.options=y,this.reset(a),t("String",i)?this.tokens=e.prepare.apply(this,[i]):this.tokens=i,void 0!==n&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,r){r=r||{};var i,n;if(this.context=t||{},this.reset(),r.blocks&&(this.blocks=r.blocks),r.macros&&(this.macros=r.macros),i=e.parse.apply(this,[this.tokens,this.context]),this.extend){var a;return this.options.allowInlineIncludes&&(a=e.Templates.load(this.extend),a&&(a.options=this.options)),a||(n=e.path.parsePath(this,this.extend),a=e.Templates.loadRemote(n,{method:this.getLoaderMethod(),base:this.base,async:!1,id:n,options:this.options})),this.parent=a,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==r.output?this.blocks:"macros"==r.output?this.macros:i},e.Template.prototype.importFile=function(t){var r,i;if(!this.url&&this.options.allowInlineIncludes){if(t=this.path?this.path+"/"+t:t,i=e.Templates.load(t),!i&&(i=e.Templates.loadRemote(r,{id:t,method:this.getLoaderMethod(),async:!1,options:this.options}),!i))throw new e.Error("Unable to find the template "+t);return i.options=this.options,i}return r=e.path.parsePath(this,t),i=e.Templates.loadRemote(r,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:r})},e.Template.prototype.importBlocks=function(t,r){var i=this.importFile(t),n=this.context,a=this;r=r||!1,i.render(n),e.forEach(Object.keys(i.blocks),function(e){(r||void 0===a.blocks[e])&&(a.blocks[e]=i.blocks[e],a.importedBlocks.push(e))})},e.Template.prototype.importMacros=function(t){var r=e.path.parsePath(this,t),i=e.Templates.loadRemote(r,{method:this.getLoaderMethod(),async:!1,id:r});return i},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(t){return e.compiler.compile(this,t)},e.Markup=function(e,t){return"undefined"==typeof t&&(t=!0),"string"==typeof e&&e.length>0&&(e=new String(e),e.twig_markup=t),e},e}(a||{});!function(e){"use strict";e.Templates.registerLoader("ajax",function(t,r,i,n){var a,s,o=r.precompiled,p=this.parsers[r.parser]||this.parser.twig;if("undefined"==typeof XMLHttpRequest)throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');return s=new XMLHttpRequest,s.onreadystatechange=function(){var l=null;4===s.readyState&&(200===s.status||window.cordova&&0==s.status?(e.log.debug("Got template ",s.responseText),l=o===!0?JSON.parse(s.responseText):s.responseText,r.url=t,r.data=l,a=p.call(this,r),"function"==typeof i&&i(a)):"function"==typeof n&&n(s))},s.open("GET",t,!!r.async),s.send(),r.async?!0:a})}(a),function(e){"use strict";var t,i;try{t=r(15),i=r(16)}catch(n){}e.Templates.registerLoader("fs",function(r,n,a,s){var o,p=null,l=n.precompiled,c=this.parsers[n.parser]||this.parser.twig;if(!t||!i)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');var u=function(e,t){return e?void("function"==typeof s&&s(e)):(l===!0&&(t=JSON.parse(t)),n.data=t,n.path=n.path||r,o=c.call(this,n),void("function"==typeof a&&a(o)))};if(n.path=n.path||r,n.async)return t.stat(n.path,function(i,a){if(i||!a.isFile())throw new e.Error("Unable to find template file "+r);t.readFile(n.path,"utf8",u)}),!0;if(!t.statSync(n.path).isFile())throw new e.Error("Unable to find template file "+r);return p=t.readFileSync(n.path,"utf8"),u(void 0,p),o})}(a),function(e){"use strict";e.Templates.registerParser("source",function(e){return e.data||""})}(a),function(e){"use strict";e.Templates.registerParser("twig",function(t){return new e.Template(t)})}(a),function(){"use strict";String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on non-object");var t,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.push(t);return r})}();var a=function(e){e.lib={};var t=function(){function e(){var t=arguments[0],r=e.cache;return r[t]&&r.hasOwnProperty(t)||(r[t]=e.parse(t)),e.format.call(null,r[t],arguments)}function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e,t){return Array(t+1).join(e)}var i={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};e.format=function(n,a){var s,o,p,l,c,u,y,d=1,g=n.length,h="",f=[],m=!0,v="";for(o=0;g>o;o++)if(h=t(n[o]),"string"===h)f[f.length]=n[o];else if("array"===h){if(l=n[o],l[2])for(s=a[d],p=0;p<l[2].length;p++){if(!s.hasOwnProperty(l[2][p]))throw new Error(e("[sprintf] property '%s' does not exist",l[2][p]));s=s[l[2][p]]}else s=l[1]?a[l[1]]:a[d++];if("function"==t(s)&&(s=s()),i.not_string.test(l[8])&&i.not_json.test(l[8])&&"number"!=t(s)&&isNaN(s))throw new TypeError(e("[sprintf] expecting number but found %s",t(s)));switch(i.number.test(l[8])&&(m=s>=0),l[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,l[6]?parseInt(l[6]):0);break;case"e":s=l[7]?s.toExponential(l[7]):s.toExponential();break;case"f":s=l[7]?parseFloat(s).toFixed(l[7]):parseFloat(s);break;case"g":s=l[7]?parseFloat(s).toPrecision(l[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&l[7]?s.substring(0,l[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}i.json.test(l[8])?f[f.length]=s:(!i.number.test(l[8])||m&&!l[3]?v="":(v=m?"+":"-",s=s.toString().replace(i.sign,"")),u=l[4]?"0"===l[4]?"0":l[4].charAt(1):" ",y=l[6]-(v+s).length,c=l[6]&&y>0?r(u,y):"",f[f.length]=l[5]?v+s+c:"0"===u?v+c+s:c+v+s)}return f.join("")},e.cache={},e.parse=function(e){for(var t=e,r=[],n=[],a=0;t;){if(null!==(r=i.text.exec(t)))n[n.length]=r[0];else if(null!==(r=i.modulo.exec(t)))n[n.length]="%";else{if(null===(r=i.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){a|=1;var s=[],o=r[2],p=[];if(null===(p=i.key.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=p[1];""!==(o=o.substring(p[0].length));)if(null!==(p=i.key_access.exec(o)))s[s.length]=p[1];else{if(null===(p=i.index_access.exec(o)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=p[1]}r[2]=s}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=r}t=t.substring(r[0].length)}return n};var n=function(t,r,i){return i=(r||[]).slice(0),i.splice(0,0,t),e.apply(null,i)};return{sprintf:e,vsprintf:n}}(),r=t.sprintf,i=t.vsprintf;return e.lib.sprintf=r,e.lib.vsprintf=i,function(){function t(e){return(e=Math.abs(e)%100)%10==1&&11!=e?"st":e%10==2&&12!=e?"nd":e%10==3&&13!=e?"rd":"th"}function r(e){var t=new Date(e.getFullYear()+1,0,4);return 7>(t-e)/864e5&&(e.getDay()+6)%7<(t.getDay()+6)%7?t.getFullYear():e.getMonth()>0||e.getDate()>=4?e.getFullYear():e.getFullYear()-((e.getDay()+6)%7-e.getDate()>2?1:0)}function i(e){var t=new Date(r(e),0,4);return t.setDate(t.getDate()-(t.getDay()+6)%7),parseInt((e-t)/6048e5)+1}var n="Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),a="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),s="Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),o="January,February,March,April,May,June,July,August,September,October,November,December".split(",");e.lib.formatDate=function(e,p){if("string"!=typeof p||/^\s*$/.test(p))return e+"";var l=new Date(e.getFullYear(),0,1),c=e;return p.replace(/[dDjlNSwzWFmMntLoYyaABgGhHisuU]/g,function(e){switch(e){case"d":return("0"+c.getDate()).replace(/^.+(..)$/,"$1");case"D":return n[c.getDay()];case"j":return c.getDate();case"l":return a[c.getDay()];case"N":return(c.getDay()+6)%7+1;case"S":return t(c.getDate());case"w":return c.getDay();case"z":return Math.ceil((l-c)/864e5);case"W":return("0"+i(c)).replace(/^.(..)$/,"$1");case"F":return o[c.getMonth()];case"m":return("0"+(c.getMonth()+1)).replace(/^.+(..)$/,"$1");case"M":return s[c.getMonth()];case"n":return c.getMonth()+1;case"t":return new Date(c.getFullYear(),c.getMonth()+1,-1).getDate();case"L":return 29==new Date(c.getFullYear(),1,29).getDate()?1:0;case"o":return r(c);case"Y":return c.getFullYear();case"y":return(c.getFullYear()+"").replace(/^.+(..)$/,"$1");case"a":return c.getHours()<12?"am":"pm";case"A":return c.getHours()<12?"AM":"PM";case"B":return Math.floor(1e3*((c.getUTCHours()+1)%24+c.getUTCMinutes()/60+c.getUTCSeconds()/3600)/24);case"g":return c.getHours()%12!=0?c.getHours()%12:12;case"G":return c.getHours();case"h":return("0"+(c.getHours()%12!=0?c.getHours()%12:12)).replace(/^.+(..)$/,"$1");case"H":return("0"+c.getHours()).replace(/^.+(..)$/,"$1");case"i":return("0"+c.getMinutes()).replace(/^.+(..)$/,"$1");case"s":return("0"+c.getSeconds()).replace(/^.+(..)$/,"$1");case"u":return c.getMilliseconds();case"U":return c.getTime()/1e3}})}}(),e.lib.strip_tags=function(e,t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var r=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,i=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return e.replace(i,"").replace(r,function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""})},e.lib.parseISO8601Date=function(e){var t=/(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d)(\.\d+)?(Z|([+-])(\d\d):(\d\d))/,r=[];if(r=e.match(t),!r)throw"Couldn't parse ISO 8601 date string '"+e+"'";var i=[1,2,3,4,5,6,10,11];for(var n in i)r[i[n]]=parseInt(r[i[n]],10);r[7]=parseFloat(r[7]);var a=Date.UTC(r[1],r[2]-1,r[3],r[4],r[5],r[6]);if(r[7]>0&&(a+=Math.round(1e3*r[7])),"Z"!=r[8]&&r[10]){var s=60*r[10]*60*1e3;r[11]&&(s+=60*r[11]*1e3),"-"==r[9]?a-=s:a+=s}return new Date(a)},e.lib.strtotime=function(e,t){function r(e,t,r){var i,n=l[t];"undefined"!=typeof n&&(i=n-p.getDay(),0===i?i=7*r:i>0&&"last"===e?i-=7:0>i&&"next"===e&&(i+=7),p.setDate(p.getDate()+i))}function i(e){var t=e.split(" "),i=t[0],n=t[1].substring(0,3),a=/\d+/.test(i),s="ago"===t[2],o=("last"===i?-1:1)*(s?-1:1);if(a&&(o*=parseInt(i,10)),c.hasOwnProperty(n)&&!t[1].match(/^mon(day|\.)?$/i))return p["set"+c[n]](p["get"+c[n]]()+o);if("wee"===n)return p.setDate(p.getDate()+7*o);if("next"===i||"last"===i)r(i,n,o);else if(!a)return!1;return!0}var n,a,s,o,p,l,c,u,y,d,g,h=!1;if(!e)return h;if(e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase(),a=e.match(/^(\d{1,4})([\-\.\/\:])(\d{1,2})([\-\.\/\:])(\d{1,4})(?:\s(\d{1,2}):(\d{2})?:?(\d{2})?)?(?:\s([A-Z]+)?)?$/),a&&a[2]===a[4])if(a[1]>1901)switch(a[2]){case"-":return a[3]>12||a[5]>31?h:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return h;case"/":return a[3]>12||a[5]>31?h:new Date(a[1],parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else if(a[5]>1901)switch(a[2]){case"-":return a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case".":return a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3;case"/":return a[1]>12||a[3]>31?h:new Date(a[5],parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3}else switch(a[2]){case"-":return a[3]>12||a[5]>31||a[1]<70&&a[1]>38?h:(o=a[1]>=0&&a[1]<=38?+a[1]+2e3:a[1],new Date(o,parseInt(a[3],10)-1,a[5],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case".":return a[5]>=70?a[3]>12||a[1]>31?h:new Date(a[5],parseInt(a[3],10)-1,a[1],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3:a[5]<60&&!a[6]?a[1]>23||a[3]>59?h:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),a[1]||0,a[3]||0,a[5]||0,a[9]||0)/1e3):h;case"/":return a[1]>12||a[3]>31||a[5]<70&&a[5]>38?h:(o=a[5]>=0&&a[5]<=38?+a[5]+2e3:a[5],new Date(o,parseInt(a[1],10)-1,a[3],a[6]||0,a[7]||0,a[8]||0,a[9]||0)/1e3);case":":return a[1]>23||a[3]>59||a[5]>59?h:(s=new Date,new Date(s.getFullYear(),s.getMonth(),s.getDate(),a[1]||0,a[3]||0,a[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(n=Date.parse(e)))return n/1e3|0;if((a=e.match(/^([0-9]{4}-[0-9]{2}-[0-9]{2})[ t]([0-9]{2}:[0-9]{2}:[0-9]{2}(\.[0-9]+)?)([\+-][0-9]{2}(:[0-9]{2})?|z)/))&&("z"==a[4]?a[4]="Z":a[4].match(/^([\+-][0-9]{2})$/)&&(a[4]=a[4]+":00"),!isNaN(n=Date.parse(a[1]+"T"+a[2]+a[4]))))return n/1e3|0;if(p=t?new Date(1e3*t):new Date,l={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},c={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},y="(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",d="([+-]?\\d+\\s"+y+"|(last|next)\\s"+y+")(\\sago)?",a=e.match(new RegExp(d,"gi")),!a)return h;for(g=0,u=a.length;u>g;g++)if(!i(a[g]))return h;return p.getTime()/1e3},e.lib.is=function(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e},e.lib.copy=function(e){var t,r={};for(t in e)r[t]=e[t];return r},e.lib.replaceAll=function(e,t,r){return e.split(t).join(r)},e.lib.chunkArray=function(t,r){var i=[],n=0,a=t.length;if(1>r||!e.lib.is("Array",t))return[];for(;a>n;)i.push(t.slice(n,n+=r));return i},e.lib.round=function(e,t,r){var i,n,a,s;if(t|=0,i=Math.pow(10,t),e*=i,s=e>0|-(0>e),a=e%1===.5*s,n=Math.floor(e),a)switch(r){case"PHP_ROUND_HALF_DOWN":e=n+(0>s);break;case"PHP_ROUND_HALF_EVEN":e=n+n%2*s;break;case"PHP_ROUND_HALF_ODD":e=n+!(n%2);break;default:e=n+(s>0)}return(a?e:Math.round(e))/i},e.lib.max=function(){var e,t,r=0,i=0,n=arguments,a=n.length,s=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},o=function(e,t){var r=0,i=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=s(e),t=s(t),p=e.length,a=t.length,a>p)return 1;if(p>a)return-1;for(r=0,i=p;i>r;++r){if(n=o(e[r],t[r]),1==n)return 1;if(-1==n)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:0>e?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to max()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for max()");if(e=s(n[0]),0===e.length)throw new Error("Array must contain at least one element for max()")}else e=n;for(t=e[0],r=1,i=e.length;i>r;++r)1==o(t,e[r])&&(t=e[r]);return t},e.lib.min=function(){var e,t,r=0,i=0,n=arguments,a=n.length,s=function(e){if("[object Array]"===Object.prototype.toString.call(e))return e;var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t},o=function(e,t){var r=0,i=0,n=0,a=0,p=0;if(e===t)return 0;if("object"==typeof e){if("object"==typeof t){if(e=s(e),t=s(t),p=e.length,a=t.length,a>p)return 1;if(p>a)return-1;for(r=0,i=p;i>r;++r){if(n=o(e[r],t[r]),1==n)return 1;if(-1==n)return-1}return 0}return-1}return"object"==typeof t?1:isNaN(t)&&!isNaN(e)?0==e?0:0>e?1:-1:isNaN(e)&&!isNaN(t)?0==t?0:t>0?1:-1:t==e?0:t>e?1:-1};if(0===a)throw new Error("At least one value should be passed to min()");if(1===a){if("object"!=typeof n[0])throw new Error("Wrong parameter count for min()");if(e=s(n[0]),0===e.length)throw new Error("Array must contain at least one element for min()")}else e=n;for(t=e[0],r=1,i=e.length;i>r;++r)-1==o(t,e[r])&&(t=e[r]);return t},e}(a||{}),a=function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s+([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,i){var n="",a=e.expression.parse.apply(this,[t.stack,r]);return i=!0,a&&(i=!1,n=e.parse.apply(this,[t.output,r])),{chain:i,output:n}}},{type:e.logic.type.elseif,regex:/^elseif\s+([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile:function(t){var r=t.match[1];return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,i){var n="";return i&&e.expression.parse.apply(this,[t.stack,r])===!0&&(i=!1,n=e.parse.apply(this,[t.output,r])),{chain:i,output:n}}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse:function(t,r,i){var n="";return i&&(n=e.parse.apply(this,[t.output,r])),{chain:i,output:n}}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([^\s].*?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile:function(t){var r=t.match[1],i=t.match[2],n=t.match[3],a=null;if(t.key_var=null,t.value_var=null,r.indexOf(",")>=0){if(a=r.split(","),2!==a.length)throw new e.Error("Invalid expression in for loop: "+r);t.key_var=a[0].trim(),t.value_var=a[1].trim()}else t.value_var=r;return t.expression=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack,n&&(t.conditional=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack),delete t.match,t},parse:function(t,r,i){var n,a,s=e.expression.parse.apply(this,[t.expression,r]),o=[],p=0,l=this,c=t.conditional,u=function(e,t){var i=void 0!==c;return{index:e+1,index0:e,revindex:i?void 0:t-e,revindex0:i?void 0:t-e-1,first:0===e,last:i?void 0:e===t-1,length:i?void 0:t,parent:r}},y=function(i,a){var s=e.ChildContext(r);s[t.value_var]=a,t.key_var&&(s[t.key_var]=i),s.loop=u(p,n),(void 0===c||e.expression.parse.apply(l,[c,s]))&&(o.push(e.parse.apply(l,[t.output,s])),p+=1),delete s.loop,delete s[t.value_var],delete s[t.key_var],e.merge(r,s,!0)};return e.lib.is("Array",s)?(n=s.length,e.forEach(s,function(e){var t=p;y(t,e)})):e.lib.is("Object",s)&&(a=void 0!==s._keys?s._keys:Object.keys(s),n=a.length,e.forEach(a,function(e){"_keys"!==e&&y(e,s[e])})),i=0===o.length,{chain:i,output:e.output.apply(this,[o])}}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),i=t.match[2],n=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:i}]).stack;return t.key=r,t.expression=n,delete t.match,t},parse:function(t,r,i){var n=e.expression.parse.apply(this,[t.expression,r]),a=t.key;return r[a]=n,{chain:i,context:r}}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile:function(e){var t=e.match[1].trim();return e.key=t,delete e.match,e},parse:function(t,r,i){var n=e.parse.apply(this,[t.output,r]),a=t.key;return this.context[a]=n,r[a]=n,{chain:i,context:r}}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile:function(t){var r="|"+t.match[1].trim();return t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,delete t.match,t},parse:function(t,r,i){var n=e.parse.apply(this,[t.output,r]),a=[{type:e.expression.type.string,value:n}].concat(t.stack),s=e.expression.parse.apply(this,[a,r]);return{chain:i,output:s}}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.block,regex:/^block\s+([a-zA-Z0-9_]+)$/,next:[e.logic.type.endblock],open:!0,compile:function(e){return e.block=e.match[1].trim(),delete e.match,e},parse:function(t,r,i){var n,a,s=e.indexOf(this.importedBlocks,t.block)>-1,o=this.blocks[t.block]&&e.indexOf(this.blocks[t.block],e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||s||o||r.loop||t.overwrite)&&(n=t.expression?e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.expression.parse.apply(this,[t.output,r])},r]):e.expression.parse.apply(this,[{type:e.expression.type.string,value:e.parse.apply(this,[t.output,r])},r]),s&&this.importedBlocks.splice(this.importedBlocks.indexOf(t.block),1),o?this.blocks[t.block]=e.Markup(this.blocks[t.block].replace(e.placeholders.parent,n)):this.blocks[t.block]=n,
this.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}),a=this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block],{chain:i,output:a}}},{type:e.logic.type.shortblock,regex:/^block\s+([a-zA-Z0-9_]+)\s+(.+)$/,next:[],open:!0,compile:function(t){return t.expression=t.match[2].trim(),t.output=e.expression.compile({type:e.expression.type.expression,value:t.expression}).stack,t.block=t.match[1].trim(),delete t.match,t},parse:function(t,r,i){return e.logic.handler[e.logic.type.block].parse.apply(this,arguments)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+([a-zA-Z0-9_]+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,i){var n=e.expression.parse.apply(this,[t.stack,r]);return this.extend=n,{chain:i,output:""}}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim();return delete t.match,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,i){var n=e.expression.parse.apply(this,[t.stack,r]);return this.importBlocks(n),{chain:i,output:""}}},{type:e.logic.type.include,regex:/^include\s+(ignore missing\s+)?(.+?)\s*(?:with\s+([\S\s]+?))?\s*(only)?$/,next:[],open:!0,compile:function(t){var r=t.match,i=void 0!==r[1],n=r[2].trim(),a=r[3],s=void 0!==r[4]&&r[4].length;return delete t.match,t.only=s,t.includeMissing=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,r,i){var n,a,s,o={};if(t.only||(o=e.ChildContext(r)),void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,r]);for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,o]);return s=p instanceof e.Template?p:this.importFile(p),{chain:i,output:s.render(o)}}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse:function(t,r,i){var n=e.parse.apply(this,[t.output,r]),a=/>\s+</g,s=n.replace(a,"><").trim();return{chain:i,output:s}}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+([a-zA-Z0-9_]+)\s*\(\s*((?:[a-zA-Z0-9_]+(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile:function(t){for(var r=t.match[1],i=t.match[2].split(/[\s,]+/),n=0;n<i.length;n++)for(var a=0;a<i.length;a++)if(i[n]===i[a]&&n!==a)throw new e.Error("Duplicate arguments for parameter: "+i[n]);return t.macroName=r,t.parameters=i,delete t.match,t},parse:function(t,r,i){var n=this;return this.macros[t.macroName]=function(){for(var r={_self:n.macros},i=0;i<t.parameters.length;i++){var a=t.parameters[i];"undefined"!=typeof arguments[i]?r[a]=arguments[i]:r[a]=void 0}return e.parse.apply(n,[t.output,r])},{chain:i,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/,next:[],open:!0,compile:function(t){var r=t.match[1].trim(),i=t.match[2].trim();return delete t.match,t.expression=r,t.contextName=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,i){if("_self"!==t.expression){var n=e.expression.parse.apply(this,[t.stack,r]),a=this.importFile(n||t.expression);r[t.contextName]=a.render({},{output:"macros"})}else r[t.contextName]=this.macros;return{chain:i,output:""}}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile:function(t){for(var r=t.match[1].trim(),i=t.match[2].trim().split(/[ ,]+/),n={},a=0;a<i.length;a++){var s=i[a],o=s.match(/^([a-zA-Z0-9_]+)\s+(.+)\s+as\s+([a-zA-Z0-9_]+)$/);o?n[o[1].trim()]=o[2].trim():s.match(/^([a-zA-Z0-9_]+)$/)&&(n[s]=s)}return delete t.match,t.expression=r,t.macroNames=n,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:r}]).stack,t},parse:function(t,r,i){var n;if("_self"!==t.expression){var a=e.expression.parse.apply(this,[t.stack,r]),s=this.importFile(a||t.expression);n=s.render({},{output:"macros"})}else n=this.macros;for(var o in t.macroNames)n.hasOwnProperty(o)&&(r[t.macroNames[o]]=n[o]);return{chain:i,output:""}}},{type:e.logic.type.embed,regex:/^embed\s+(ignore missing\s+)?(.+?)\s*(?:with\s+(.+?))?\s*(only)?$/,next:[e.logic.type.endembed],open:!0,compile:function(t){var r=t.match,i=void 0!==r[1],n=r[2].trim(),a=r[3],s=void 0!==r[4]&&r[4].length;return delete t.match,t.only=s,t.includeMissing=i,t.stack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:n}]).stack,void 0!==a&&(t.withStack=e.expression.compile.apply(this,[{type:e.expression.type.expression,value:a.trim()}]).stack),t},parse:function(t,r,i){var n,a,s,o={};if(!t.only)for(a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);if(void 0!==t.withStack){n=e.expression.parse.apply(this,[t.withStack,r]);for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a])}var p=e.expression.parse.apply(this,[t.stack,o]);s=p instanceof e.Template?p:this.importFile(p),this.blocks={};e.parse.apply(this,[t.output,o]);return{chain:i,output:s.render(o,{blocks:this.blocks})}}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(t){var r=t.value.trim(),i=e.logic.tokenize.apply(this,[r]),n=e.logic.handler[i.type];return n.compile&&(i=n.compile.apply(this,[i]),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",i)),i},e.logic.tokenize=function(t){var r={},i=null,n=null,a=null,s=null,o=null,p=null;t=t.trim();for(i in e.logic.handler)if(e.logic.handler.hasOwnProperty(i))for(n=e.logic.handler[i].type,a=e.logic.handler[i].regex,s=[],a instanceof Array?s=a:s.push(a);s.length>0;)if(o=s.shift(),p=o.exec(t.trim()),null!==p)return r.type=n,r.match=p,e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",p),r;throw new e.Error("Unable to parse '"+t.trim()+"'")},e.logic.parse=function(t,r,i){var n,a="";return r=r||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),n=e.logic.handler[t.type],n.parse&&(a=n.parse.apply(this,[t,r,i])),a},e}(a||{}),a=function(e){"use strict";e.expression={},e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets]),e.expression.fn={compile:{push:function(e,t,r){r.push(e)},push_both:function(e,t,r){r.push(e),t.push(e)}},parse:{push:function(e,t,r){t.push(e)},push_value:function(e,t,r){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_][a-zA-Z0-9_]*)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.filter=e.match[2],e.modifier=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(t,r,i){var n=r.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,i]),s=e.test(t.filter,n,a);"not"==t.modifier?r.push(!s):r.push(s)}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile:function(t,r,i){var n,a=r.length-1;for(delete t.match,delete t.value;a>=0;a--){if(n=r.pop(),n.type===e.expression.type.object.start||n.type===e.expression.type.parameter.start||n.type===e.expression.type.array.start){r.push(n);break}i.push(n)}i.push(t)}},{type:e.expression.type.operator.binary,regex:/(^[\+\-~%\?\:]|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^and\s+|^or\s+|^in\s+|^not in\s+|^\.\.)/,next:e.expression.set.expressions.concat([e.expression.type.operator.unary]),compile:function(t,r,i){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);r.length>0&&(r[r.length-1].type==e.expression.type.operator.unary||r[r.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=r[r.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>r[r.length-1].precidence);){var s=r.pop();i.push(s)}if(":"===n){if(!r[r.length-1]||"?"!==r[r.length-1].value){var o=i.pop();if(o.type===e.expression.type.string||o.type===e.expression.type.variable)t.key=o.value;else if(o.type===e.expression.type.number)t.key=o.value.toString();else{if(o.type!==e.expression.type.parameter.end||!o.expression)throw new e.Error("Unexpected value before ':' of "+o.type+" = "+o.value);t.params=o.params}return void i.push(t)}}else r.push(a)},parse:function(t,r,i){t.key?r.push(t):t.params?(t.key=e.expression.parse.apply(this,[t.params,i]),r.push(t),delete t.params):e.expression.operator.parse(t.value,r)}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile:function(t,r,i){delete t.match,t.value=t.value.trim();var n=t.value,a=e.expression.operator.lookup(n,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",a," from ",n);r.length>0&&(r[r.length-1].type==e.expression.type.operator.unary||r[r.length-1].type==e.expression.type.operator.binary)&&(a.associativity===e.expression.operator.leftToRight&&a.precidence>=r[r.length-1].precidence||a.associativity===e.expression.operator.rightToLeft&&a.precidence>r[r.length-1].precidence);){var s=r.pop();i.push(s)}r.push(a)},parse:function(t,r,i){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operations,compile:function(t,r,i){var n=t.value;delete t.match,n='"'===n.substring(0,1)?n.replace('\\"','"'):n.replace("\\'","'"),t.value=n.substring(1,n.length-1).replace(/\\n/g,"\n").replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),i.push(t)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operations_extended,compile:function(t,r,i){var n,a=t;for(n=r.pop();r.length>0&&n.type!=e.expression.type.parameter.start;)i.push(n),n=r.pop();for(var s=[];t.type!==e.expression.type.parameter.start;)s.unshift(t),t=i.pop();s.unshift(t);t=i[i.length-1],void 0===t||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets&&t.type!==e.expression.type.key.period?(a.expression=!0,s.pop(),s.shift(),a.params=s,i.push(a)):(a.expression=!1,t.params=s)},parse:function(t,r,i){var n=[],a=!1,s=null;if(t.expression)s=e.expression.parse.apply(this,[t.params,i]),r.push(s);else{for(;r.length>0;){if(s=r.pop(),s&&s.type&&s.type==e.expression.type.parameter.start){a=!0;break}n.unshift(s)}if(!a)throw new e.Error("Expected end of parameter set.");r.push(n)}}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operations_extended,compile:function(t,r,i){for(var n,a=r.length-1;a>=0&&(n=r.pop(),n.type!==e.expression.type.array.start);a--)i.push(n);i.push(t)},parse:function(t,r,i){for(var n=[],a=!1,s=null;r.length>0;){if(s=r.pop(),s.type&&s.type==e.expression.type.array.start){a=!0;break}n.unshift(s)}if(!a)throw new e.Error("Expected end of array.");r.push(n)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.push_both,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operations_extended,compile:function(t,r,i){for(var n,a=r.length-1;a>=0&&(n=r.pop(),!n||n.type!==e.expression.type.object.start);a--)i.push(n);i.push(t)},parse:function(t,r,i){for(var n={},a=!1,s=null,o=!1,p=null;r.length>0;){if(s=r.pop(),s&&s.type&&s.type===e.expression.type.object.start){a=!0;break}if(s&&s.type&&(s.type===e.expression.type.operator.binary||s.type===e.expression.type.operator.unary)&&s.key){if(!o)throw new e.Error("Missing value for key '"+s.key+"' in object definition.");n[s.key]=p,void 0===n._keys&&(n._keys=[]),n._keys.unshift(s.key),p=null,o=!1}else o=!0,p=s}if(!a)throw new e.Error("Unexpected end of object.");r.push(n)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_\-]*)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.value=e.match[1],r.push(e)},parse:function(t,r,i){var n=r.pop(),a=t.params&&e.expression.parse.apply(this,[t.params,i]);r.push(e.filter.apply(this,[t.value,n,a]))}},{type:e.expression.type._function,regex:/^([a-zA-Z_][a-zA-Z0-9_]*)\s*\(/,next:e.expression.type.parameter.start,transform:function(e,t){return"("},compile:function(e,t,r){var i=e.match[1];e.fn=i,delete e.match,delete e.value,r.push(e)},parse:function(t,r,i){var n,a=t.params&&e.expression.parse.apply(this,[t.params,i]),s=t.fn;if(e.functions[s])n=e.functions[s].apply(this,a);else{if("function"!=typeof i[s])throw new e.Error(s+" function does not exist and is not defined in the context");n=i[s].apply(i,a)}r.push(n)}},{type:e.expression.type.variable,regex:/^[a-zA-Z_][a-zA-Z0-9_]*/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate:function(t,r){return e.indexOf(e.expression.reservedWords,t[0])<0},parse:function(t,r,i){var n=e.expression.resolve(i[t.value],i);r.push(n)}},{type:e.expression.type.key.period,regex:/^\.([a-zA-Z0-9_]+)/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(e,t,r){e.key=e.match[1],delete e.match,delete e.value,r.push(e)},parse:function(t,r,i){var n,a=t.params&&e.expression.parse.apply(this,[t.params,i]),s=t.key,o=r.pop();if(null===o||void 0===o){if(this.options.strict_variables)throw new e.Error("Can't access a key "+s+" on an null or undefined object.");return null}var p=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};n="object"==typeof o&&s in o?o[s]:void 0!==o["get"+p(s)]?o["get"+p(s)]:void 0!==o["is"+p(s)]?o["is"+p(s)]:void 0,r.push(e.expression.resolve(n,o,a))}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:function(t,r,i){var n=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:n}).stack,i.push(t)},parse:function(t,r,i){var n,a=t.params&&e.expression.parse.apply(this,[t.params,i]),s=e.expression.parse.apply(this,[t.stack,i]),o=r.pop();if(null===o||void 0===o){if(this.options.strict_variables)throw new e.Error("Can't access a key "+s+" on an null or undefined object.");return null}n="object"==typeof o&&s in o?o[s]:null,r.push(e.expression.resolve(n,o,a))}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile:function(e,t,r){delete e.match,e.value=null,r.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operations_extended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse:function(e,t,r){t.push(r)}},{type:e.expression.type.number,regex:/^\-?\d+(\.\d+)?/,next:e.expression.set.operations,compile:function(e,t,r){e.value=Number(e.value),r.push(e)},parse:e.expression.fn.parse.push_value},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile:function(e,t,r){e.value="true"===e.match[0].toLowerCase(),delete e.match,r.push(e)},parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(e,t,r){return"function"==typeof e?e.apply(t,r||[]):e},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};for(;e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){var r,i,n,a,s,o,p=[],l=0,c=null,u=[];for(o=function(){var t=Array.prototype.slice.apply(arguments);t.pop(),t.pop();return e.log.trace("Twig.expression.tokenize","Matched a ",r," regular expression of ",t),c&&e.indexOf(c,r)<0?(u.push(r+" cannot follow a "+p[p.length-1].type+" at template:"+l+" near '"+t[0].substring(0,20)+"...'"),t[0]):e.expression.handler[r].validate&&!e.expression.handler[r].validate(t,p)?t[0]:(u=[],p.push({type:r,value:t[0],match:t}),s=!0,c=a,l+=t[0].length,e.expression.handler[r].transform?e.expression.handler[r].transform(t,p):"")},e.log.debug("Twig.expression.tokenize","Tokenizing expression ",t);t.length>0;){t=t.trim();for(r in e.expression.handler)if(e.expression.handler.hasOwnProperty(r)){for(a=e.expression.handler[r].next,i=e.expression.handler[r].regex,n=i instanceof Array?i:[i],s=!1;n.length>0;)i=n.pop(),t=t.replace(i,o);if(s)break}if(!s)throw u.length>0?new e.Error(u.join(" OR ")):new e.Error("Unable to parse '"+t+"' at template position"+l)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",p),p},e.expression.compile=function(t){var r=t.value,i=e.expression.tokenize(r),n=null,a=[],s=[],o=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",r);i.length>0;)n=i.shift(),o=e.expression.handler[n.type],e.log.trace("Twig.expression.compile: ","Compiling ",n),o.compile&&o.compile(n,s,a),e.log.trace("Twig.expression.compile: ","Stack is",s),e.log.trace("Twig.expression.compile: ","Output is",a);for(;s.length>0;)a.push(s.pop());return e.log.trace("Twig.expression.compile: ","Final output is",a),t.stack=a,delete t.value,t},e.expression.parse=function(t,r){var i=this;t instanceof Array||(t=[t]);var n=[],a=null;return e.forEach(t,function(t){a=e.expression.handler[t.type],a.parse&&a.parse.apply(i,[t,n,r])}),n.pop()},e}(a||{}),a=function(e){"use strict";e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(void 0===t||null===t)return null;if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var r;for(r in t)if(t.hasOwnProperty(r)&&t[r]===e)return!0;return!1};return e.expression.operator.lookup=function(t,r){switch(t){case"..":case"not in":case"in":r.precidence=20,r.associativity=e.expression.operator.leftToRight;break;case",":r.precidence=18,r.associativity=e.expression.operator.leftToRight;break;case"?":case":":r.precidence=16,r.associativity=e.expression.operator.rightToLeft;break;case"or":r.precidence=14,r.associativity=e.expression.operator.leftToRight;break;case"and":r.precidence=13,r.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":r.precidence=9,r.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":r.precidence=8,r.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":r.precidence=6,r.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":r.precidence=5,r.associativity=e.expression.operator.leftToRight;break;case"not":r.precidence=3,r.associativity=e.expression.operator.rightToLeft;break;default:throw new e.Error(t+" is an unknown operator.")}return r.operator=t,r},e.expression.operator.parse=function(r,i){e.log.trace("Twig.expression.operator.parse: ","Handling ",r);var n,a,s;switch(r){case":":break;case"?":s=i.pop(),a=i.pop(),n=i.pop(),n?i.push(a):i.push(s);break;case"+":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(n+a);break;case"-":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(n-a);break;case"*":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(n*a);break;case"/":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(n/a);break;case"//":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(parseInt(n/a));break;case"%":a=parseFloat(i.pop()),n=parseFloat(i.pop()),i.push(n%a);break;case"~":a=i.pop(),n=i.pop(),i.push((null!=n?n.toString():"")+(null!=a?a.toString():""));break;case"not":case"!":i.push(!i.pop());break;case"<":a=i.pop(),n=i.pop(),i.push(a>n);break;case"<=":a=i.pop(),n=i.pop(),i.push(a>=n);break;case">":a=i.pop(),n=i.pop(),i.push(n>a);break;case">=":a=i.pop(),n=i.pop(),i.push(n>=a);break;case"===":a=i.pop(),n=i.pop(),i.push(n===a);break;case"==":a=i.pop(),n=i.pop(),i.push(n==a);break;case"!==":a=i.pop(),n=i.pop(),i.push(n!==a);break;case"!=":a=i.pop(),n=i.pop(),i.push(n!=a);break;case"or":a=i.pop(),n=i.pop(),i.push(n||a);break;case"and":a=i.pop(),n=i.pop(),i.push(n&&a);break;case"**":a=i.pop(),n=i.pop(),i.push(Math.pow(n,a));break;case"not in":a=i.pop(),n=i.pop(),i.push(!t(n,a));break;case"in":a=i.pop(),n=i.pop(),i.push(t(n,a));break;case"..":a=i.pop(),n=i.pop(),i.push(e.functions.range(n,a));break;default:throw new e.Error(r+" is an unknown operator.")}},e}(a||{}),a=function(e){function t(e,t){var r=Object.prototype.toString.call(t).slice(8,-1);return void 0!==t&&null!==t&&r===e}return e.filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,function(e,t,r){return t+r.toUpperCase()})},length:function(t){return e.lib.is("Array",t)||"string"==typeof t?t.length:e.lib.is("Object",t)?void 0===t._keys?Object.keys(t).length:t._keys.length:0},reverse:function(e){if(t("Array",e))return e.reverse();if(t("String",e))return e.split("").reverse().join("");if(t("Object",e)){var r=e._keys||Object.keys(e).reverse();return e._keys=r,e}},sort:function(e){if(t("Array",e))return e.sort();if(t("Object",e)){delete e._keys;var r=Object.keys(e),i=r.sort(function(t,r){var i;return e[t]>e[r]==!(e[t]<=e[r])?e[t]>e[r]?1:e[t]<e[r]?-1:0:isNaN(i=parseFloat(e[t]))||isNaN(b1=parseFloat(e[r]))?"string"==typeof e[t]?e[t]>e[r].toString()?1:e[t]<e[r].toString()?-1:0:"string"==typeof e[r]?e[t].toString()>e[r]?1:e[t].toString()<e[r]?-1:0:null:i>b1?1:i<b1?-1:0});return e._keys=i,e}},keys:function(t){if(void 0!==t&&null!==t){var r=t._keys||Object.keys(t),i=[];return e.forEach(r,function(e){"_keys"!==e&&t.hasOwnProperty(e)&&i.push(e)}),i}},url_encode:function(e){if(void 0!==e&&null!==e){var t=encodeURIComponent(e);return t=t.replace("'","%27")}},join:function(r,i){if(void 0!==r&&null!==r){var n="",a=[],s=null;return i&&i[0]&&(n=i[0]),t("Array",r)?a=r:(s=r._keys||Object.keys(r),e.forEach(s,function(e){"_keys"!==e&&r.hasOwnProperty(e)&&a.push(r[e])})),a.join(n)}},"default":function(t,r){if(void 0!==r&&r.length>1)throw new e.Error("default filter expects one argument");return void 0===t||null===t||""===t?void 0===r?"":r[0]:t},json_encode:function(r){if(void 0===r||null===r)return"null";if("object"==typeof r&&t("Array",r))return n=[],e.forEach(r,function(t){n.push(e.filters.json_encode(t))}),"["+n.join(",")+"]";if("object"==typeof r){var i=r._keys||Object.keys(r),n=[];return e.forEach(i,function(t){n.push(JSON.stringify(t)+":"+e.filters.json_encode(r[t]))}),"{"+n.join(",")+"}"}return JSON.stringify(r)},merge:function(r,i){var n=[],a=0,s=[];if(t("Array",r)?e.forEach(i,function(e){t("Array",e)||(n={})}):n={},t("Array",n)||(n._keys=[]),t("Array",r)?e.forEach(r,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(s=r._keys||Object.keys(r),e.forEach(s,function(e){n[e]=r[e],n._keys.push(e);var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)})),e.forEach(i,function(r){t("Array",r)?e.forEach(r,function(e){n._keys&&n._keys.push(a),n[a]=e,a++}):(s=r._keys||Object.keys(r),e.forEach(s,function(e){n[e]||n._keys.push(e),n[e]=r[e];var t=parseInt(e,10);!isNaN(t)&&t>=a&&(a=t+1)}))}),0===i.length)throw new e.Error("Filter merge expects at least one parameter");return n},date:function(t,r){var i=e.functions.date(t),n=r&&r.length?r[0]:"F j, Y H:i";return e.lib.formatDate(i,n)},date_modify:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||1!==r.length)throw new e.Error("date_modify filter expects 1 argument");var i,n=r[0];return e.lib.is("Date",t)&&(i=e.lib.strtotime(n,t.getTime()/1e3)),e.lib.is("String",t)&&(i=e.lib.strtotime(n,e.lib.strtotime(t))),e.lib.is("Number",t)&&(i=e.lib.strtotime(n,t)),new Date(1e3*i)}},replace:function(t,r){if(void 0!==t&&null!==t){var i,n=r[0];for(i in n)n.hasOwnProperty(i)&&"_keys"!==i&&(t=e.lib.replaceAll(t,i,n[i]));return t}},format:function(t,r){return void 0!==t&&null!==t?e.lib.vsprintf(t,r):void 0},striptags:function(t){return void 0!==t&&null!==t?e.lib.strip_tags(t):void 0},escape:function(t,r){if(void 0!==t&&null!==t){var i="html";if(r&&r.length&&r[0]!==!0&&(i=r[0]),"html"==i){var n=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return e.Markup(n,"html")}if("js"==i){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9,\._]$/))a+=n[s];else{var o=n.charCodeAt(s);a+=128>o?"\\x"+o.toString(16).toUpperCase():e.lib.sprintf("\\u%04s",o.toString(16).toUpperCase())}return e.Markup(a,"js")}if("css"==i){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9]$/))a+=n[s];else{var o=n.charCodeAt(s);a+="\\"+o.toString(16).toUpperCase()+" "}return e.Markup(a,"css")}if("url"==i){var a=e.filters.url_encode(t);return e.Markup(a,"url")}if("html_attr"==i){for(var n=t.toString(),a="",s=0;s<n.length;s++)if(n[s].match(/^[a-zA-Z0-9,\.\-_]$/))a+=n[s];else if(n[s].match(/^[&<>"]$/))a+=n[s].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{var o=n.charCodeAt(s);a+=31>=o&&9!=o&&10!=o&&13!=o?"&#xFFFD;":128>o?e.lib.sprintf("&#x%02s;",o.toString(16).toUpperCase()):e.lib.sprintf("&#x%04s;",o.toString(16).toUpperCase())}return e.Markup(a,"html_attr")}throw new e.Error("escape strategy unsupported")}},e:function(t,r){return e.filters.escape(t,r)},nl2br:function(t){if(void 0!==t&&null!==t){var r="BACKSLASH_n_replace",i="<br />"+r;return t=e.filters.escape(t).replace(/\r\n/g,i).replace(/\r/g,i).replace(/\n/g,i),t=e.lib.replaceAll(t,r,"\n"),e.Markup(t)}},number_format:function(e,t){var r=e,i=t&&t[0]?t[0]:void 0,n=t&&void 0!==t[1]?t[1]:".",a=t&&void 0!==t[2]?t[2]:",";r=(r+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+r)?+r:0,o=isFinite(+i)?Math.abs(i):0,p="",l=function(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r};return p=(o?l(s,o):""+Math.round(s)).split("."),p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(p[1]||"").length<o&&(p[1]=p[1]||"",p[1]+=new Array(o-p[1].length+1).join("0")),p.join(n)},trim:function(t,r){if(void 0!==t&&null!==t){var i,n=e.filters.escape(""+t);i=r&&r[0]?""+r[0]:" \n\r	\f\x0B\u2028\u2029";for(var a=0;a<n.length;a++)if(-1===i.indexOf(n.charAt(a))){n=n.substring(a);break}for(a=n.length-1;a>=0;a--)if(-1===i.indexOf(n.charAt(a))){n=n.substring(0,a+1);break}return-1===i.indexOf(n.charAt(0))?n:""}},truncate:function(e,t){var r=30,i=!1,n="...";if(e+="",t&&(t[0]&&(r=t[0]),t[1]&&(i=t[1]),t[2]&&(n=t[2])),e.length>r){if(i&&(r=e.indexOf(" ",r),-1===r))return e;e=e.substr(0,r)+n}return e},slice:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||r.length<1)throw new e.Error("slice filter expects at least 1 argument");var i=r[0]||0,n=r.length>1?r[1]:t.length,a=i>=0?i:Math.max(t.length+i,0);if(e.lib.is("Array",t)){for(var s=[],o=a;a+n>o&&o<t.length;o++)s.push(t[o]);return s}if(e.lib.is("String",t))return t.substr(a,n);throw new e.Error("slice filter expects value to be an array or string")}},abs:function(e){return void 0!==e&&null!==e?Math.abs(e):void 0},first:function(e){if(t("Array",e))return e[0];if(t("Object",e)){if("_keys"in e)return e[e._keys[0]]}else if("string"==typeof e)return e.substr(0,1)},split:function(t,r){if(void 0!==t&&null!==t){if(void 0===r||r.length<1||r.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){var i=r[0],n=r[1],a=t.split(i);if(void 0===n)return a;if(0>n)return t.split(i,a.length+n);var s=[];if(""==i)for(;a.length>0;){for(var o="",p=0;n>p&&a.length>0;p++)o+=a.shift();s.push(o)}else{for(var p=0;n-1>p&&a.length>0;p++)s.push(a.shift());a.length>0&&s.push(a.join(i))}return s}throw new e.Error("split filter expects value to be a string")}},last:function(t){if(e.lib.is("Object",t)){var r;return r=void 0===t._keys?Object.keys(t):t._keys,t[r[r.length-1]]}return t[t.length-1]},raw:function(t){return e.Markup(t)},batch:function(t,r){var i,n,a,s=r.shift(),o=r.shift();if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",s))throw new e.Error("batch filter expects size to be a number");if(s=Math.ceil(s),i=e.lib.chunkArray(t,s),o&&t.length%s!=0){for(n=i.pop(),a=s-n.length;a--;)n.push(o);i.push(n)}return i},round:function(t,r){r=r||[];var i=r.length>0?r[0]:0,n=r.length>1?r[1]:"common";if(t=parseFloat(t),i&&!e.lib.is("Number",i))throw new e.Error("round filter expects precision to be a number");if("common"===n)return e.lib.round(t,i);if(!e.lib.is("Function",Math[n]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[n](t*Math.pow(10,i))/Math.pow(10,i)}},e.filter=function(t,r,i){if(!e.filters[t])throw"Unable to find filter "+t;return e.filters[t].apply(this,[r,i])},e.filter.extend=function(t,r){e.filters[t]=r},e}(a||{}),a=function(t){var r='Template "{name}" is not defined.';return t.functions={range:function(e,t,r){var i,n,a,s=[],o=r||1,p=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(p=!0,i=e.charCodeAt(0),n=t.charCodeAt(0)):(i=isNaN(e)?0:e,n=isNaN(t)?0:t):(i=parseInt(e,10),n=parseInt(t,10)),a=!(i>n))for(;n>=i;)s.push(p?String.fromCharCode(i):i),i+=o;else for(;i>=n;)s.push(p?String.fromCharCode(i):i),i-=o;return s},cycle:function(e,t){var r=t%e.length;return e[r]},dump:function(){var e="\n",r="  ",i=0,n="",a=Array.prototype.slice.call(arguments),s=function(e){
for(var t="";e>0;)e--,t+=r;return t},o=function(t){n+=s(i),"object"==typeof t?p(t):"function"==typeof t?n+="function()"+e:"string"==typeof t?n+="string("+t.length+') "'+t+'"'+e:"number"==typeof t?n+="number("+t+")"+e:"boolean"==typeof t&&(n+="bool("+t+")"+e)},p=function(t){var r;if(null===t)n+="NULL"+e;else if(void 0===t)n+="undefined"+e;else if("object"==typeof t){n+=s(i)+typeof t,i++,n+="("+function(e){var t,r=0;for(t in e)e.hasOwnProperty(t)&&r++;return r}(t)+") {"+e;for(r in t)n+=s(i)+"["+r+"]=> "+e,o(t[r]);i--,n+=s(i)+"}"+e}else o(t)};return 0==a.length&&a.push(this.context),t.forEach(a,function(e){p(e)}),n},date:function(e,r){var i;if(void 0===e)i=new Date;else if(t.lib.is("Date",e))i=e;else if(t.lib.is("String",e))i=e.match(/^[0-9]+$/)?new Date(1e3*e):new Date(1e3*t.lib.strtotime(e));else{if(!t.lib.is("Number",e))throw new t.Error("Unable to parse date "+e);i=new Date(1e3*e)}return i},block:function(e){return this.originalBlockTokens[e]?t.logic.parse.apply(this,[this.originalBlockTokens[e],this.context]).output:this.blocks[e]},parent:function(){return t.placeholders.parent},attribute:function(e,r,i){return t.lib.is("Object",e)&&e.hasOwnProperty(r)?"function"==typeof e[r]?e[r].apply(void 0,i):e[r]:e[r]||void 0},max:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.max(e)):t.lib.max.apply(null,arguments)},min:function(e){return t.lib.is("Object",e)?(delete e._keys,t.lib.min(e)):t.lib.min.apply(null,arguments)},template_from_string:function(e){return void 0===e&&(e=""),t.Templates.parsers.twig({options:this.options,data:e})},random:function(e){function r(e){var t=Math.floor(Math.random()*i),r=[0,e],n=Math.min.apply(null,r),a=Math.max.apply(null,r);return n+Math.floor((a-n+1)*t/i)}var i=2147483648;if(t.lib.is("Number",e))return r(e);if(t.lib.is("String",e))return e.charAt(r(e.length-1));if(t.lib.is("Array",e))return e[r(e.length-1)];if(t.lib.is("Object",e)){var n=Object.keys(e);return e[n[r(n.length-1)]]}return r(i-1)},source:function(i,a){var s,o,p,l=!1,c="undefined"!=typeof n&&"undefined"!=typeof n.exports&&"undefined"==typeof window;c?(o="fs",p=e+"/"+i):(o="ajax",p=i);var u={id:i,path:p,method:o,parser:"source",async:!1,fetchTemplateSource:!0};"undefined"==typeof a&&(a=!1);try{s=t.Templates.loadRemote(i,u),"undefined"==typeof s||null===s?s="":l=!0}catch(y){t.log.debug("Twig.functions.source: ","Problem loading template  ",y)}return l||a?s:r.replace("{name}",i)}},t._function=function(e,r,i){if(!t.functions[e])throw"Unable to find function "+e;return t.functions[e](r,i)},t._function.extend=function(e,r){t.functions[e]=r},t}(a||{}),a=function(e){"use strict";return e.path={},e.path.parsePath=function(t,r){var i=null,r=r||"";if("object"==typeof t&&"object"==typeof t.options&&(i=t.options.namespaces),"object"==typeof i&&r.indexOf("::")>0||r.indexOf("@")>=0){for(var n in i)i.hasOwnProperty(n)&&(r=r.replace(n+"::",i[n]),r=r.replace("@"+n,i[n]));return r}return e.path.relativePath(t,r)},e.path.relativePath=function(t,i){var n,a,s,o="/",p=[],i=i||"";if(t.url)n="undefined"!=typeof t.base?t.base+("/"===t.base.charAt(t.base.length-1)?"":"/"):t.url;else if(t.path){var l=r(16),c=l.sep||o,u=new RegExp("^\\.{1,2}"+c.replace("\\","\\\\"));i=i.replace(/\//g,c),void 0!==t.base&&null==i.match(u)?(i=i.replace(t.base,""),n=t.base+c):n=l.normalize(t.path),n=n.replace(c+c,c),o=c}else{if(!t.name&&!t.id||!t.method||"fs"===t.method||"ajax"===t.method)throw new e.Error("Cannot extend an inline template.");n=t.base||t.name||t.id}for(a=n.split(o),a.pop(),a=a.concat(i.split(o));a.length>0;)s=a.shift(),"."==s||(".."==s&&p.length>0&&".."!=p[p.length-1]?p.pop():p.push(s));return p.join(o)},e}(a||{}),a=function(e){"use strict";return e.tests={empty:function(e){if(null===e||void 0===e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2===1},even:function(e){return e%2===0},divisibleby:function(e,t){return e%t[0]===0},defined:function(e){return void 0!==e},none:function(e){return null===e},"null":function(e){return this.none(e)},sameas:function(e,t){return e===t[0]},iterable:function(t){return t&&(e.lib.is("Array",t)||e.lib.is("Object",t))}},e.test=function(t,r,i){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](r,i)},e.test.extend=function(t,r){e.tests[t]=r},e}(a||{}),a=function(e){"use strict";return e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var r=t.id,i={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,allowInlineIncludes:t.allowInlineIncludes||!1,rethrow:t.rethrow||!1,namespaces:t.namespaces};if(e.cache&&r&&e.validateId(r),void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),void 0!==t.data)return e.Templates.parsers.twig({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,module:t.module,id:r,options:i});if(void 0!==t.ref){if(void 0!==t.id)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(t.ref)}if(void 0!==t.method){if(!e.Templates.isRegisteredLoader(t.method))throw new e.Error('Loader for "'+t.method+'" is not defined.');return e.Templates.loadRemote(t.name||t.href||t.path||r||void 0,{id:r,method:t.method,parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error)}return void 0!==t.href?e.Templates.loadRemote(t.href,{id:r,method:"ajax",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error):void 0!==t.path?e.Templates.loadRemote(t.path,{id:r,method:"fs",parser:t.parser||"twig",base:t.base,module:t.module,precompiled:t.precompiled,async:t.async,options:i},t.load,t.error):void 0},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extendTag=function(t){e.logic.extend(t)},e.exports.extend=function(t){t(e)},e.exports.compile=function(t,r){var i,n=r.filename,a=r.filename;return i=new e.Template({data:t,path:a,id:n,options:r.settings["twig options"]}),function(e){return i.render(e)}},e.exports.renderFile=function(t,r,i){"function"==typeof r&&(i=r,r={}),r=r||{};var n=r.settings||{},a={path:t,base:n.views,load:function(e){i(null,e.render(r))}},s=n["twig options"];if(s)for(var o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);e.exports.twig(a)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(t){e.cache=t},e.exports.path=e.path,e}(a||{}),a=function(e){return e.compiler={module:{}},e.compiler.compile=function(t,r){var i,n=JSON.stringify(t.tokens),a=t.id;if(r.module){if(void 0===e.compiler.module[r.module])throw new e.Error("Unable to find module type "+r.module);i=e.compiler.module[r.module](a,n,r.twig)}else i=e.compiler.wrap(a,n);return i},e.compiler.module={amd:function(t,r,i){return'define(["'+i+'"], function (Twig) {\n	var twig, templates;\ntwig = Twig.twig;\ntemplates = '+e.compiler.wrap(t,r)+"\n	return templates;\n});"},node:function(t,r){return'var twig = require("twig").twig;\nexports.template = '+e.compiler.wrap(t,r)},cjs2:function(t,r,i){return'module.declare([{ twig: "'+i+'" }], function (require, exports, module) {\n	var twig = require("twig").twig;\n	exports.template = '+e.compiler.wrap(t,r)+"\n});"}},e.compiler.wrap=function(e,t){return'twig({id:"'+e.replace('"','\\"')+'", data:'+t+", precompiled: true});\n"},e}(a||{});"undefined"!=typeof n&&n.declare?n.declare([],function(e,t,r){for(key in a.exports)a.exports.hasOwnProperty(key)&&(t[key]=a.exports[key])}):(i=function(){return a.exports}.call(t,r,t,n),!(void 0!==i&&(n.exports=i)))}).call(t,"/",r(14)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t,r){(function(e){function r(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};t.resolve=function(){for(var t="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s=a>=0?arguments[a]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=r(i(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===s(e,-1);return e=r(i(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var n=i(e.split("/")),a=i(r.split("/")),s=Math.min(n.length,a.length),o=s,p=0;s>p;p++)if(n[p]!==a[p]){o=p;break}for(var l=[],p=o;p<n.length;p++)l.push("..");return l=l.concat(a.slice(o)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."},t.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return a(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return 0>t&&(t=e.length+t),e.substr(t,r)}}).call(t,r(17))},function(e,t){function r(){l=!1,s.length?p=s.concat(p):c=-1,p.length&&i()}function i(){if(!l){var e=setTimeout(r);l=!0;for(var t=p.length;t;){for(s=p,p=[];++c<t;)s&&s[c].run();c=-1,t=p.length}s=null,l=!1,clearTimeout(e)}}function n(e,t){this.fun=e,this.array=t}function a(){}var s,o=e.exports={},p=[],l=!1,c=-1;o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new n(e,t)),1!==p.length||l||setTimeout(i,0)},n.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=a,o.addListener=a,o.once=a,o.off=a,o.removeListener=a,o.removeAllListeners=a,o.emit=a,o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var n=r(13),a=i(n),s=r(5),o=i(s),p=r(6),l=i(p);a["default"].extendFilter("t",function(e,t){return o["default"].t(e,t)}),a["default"].extendFilter("ns",function(e){var t=arguments.length<=1||void 0===arguments[1]?"field":arguments[1];switch(t){case"input":case"field":return l["default"].fieldName(e);case"id":return l["default"].value(e,"-");case"js":return l["default"].value(e,".")}return l["default"].value(e,"-")});var c=0;a["default"].extendFunction("uniqueId",function(){return"uid"+c++})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=i(s),p=r(5),l=i(p),c=r(6),u=i(c),y={namespace:[],html:"",layout:[],blockId:null,blockName:""};t["default"]=o["default"].Base.extend({_templateNs:[],_blockName:"",init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},y,e),this._templateNs=u["default"].parse(e.namespace),this._blockId=e.blockId,this.setBlockName(e.blockName),this.$container=(0,a["default"])(e.html),this.$container.removeAttr("id"),u["default"].enter(this._templateNs),this._fld=new l["default"].FieldLayoutDesigner(this.$container,{customizableTabs:!0,fieldInputName:u["default"].fieldName("fieldLayout[__TAB_NAME__][]"),requiredFieldInputName:u["default"].fieldName("requiredFields[]")}),u["default"].leave(),this.$instructions=this.$container.find(".instructions");var t=!0,r=!1,i=void 0;try{for(var n,s=e.layout[Symbol.iterator]();!(t=(n=s.next()).done);t=!0){var o=n.value,p=this.addTab(o.name),c=!0,d=!1,g=void 0;try{for(var h,f=o.fields[Symbol.iterator]();!(c=(h=f.next()).done);c=!0){var m=h.value;this.addFieldToTab(p,m.id,1==m.required)}}catch(v){d=!0,g=v}finally{try{!c&&f["return"]&&f["return"]()}finally{if(d)throw g}}}}catch(v){r=!0,i=v}finally{try{!t&&s["return"]&&s["return"]()}finally{if(r)throw i}}this._updateInstructions(),this._initReasonsPlugin()},getBlockId:function(){return this._blockId},getBlockName:function(){return this._blockName},setBlockName:function(e){this._blockName=e,this._updateInstructions()},addTab:function(){var e=arguments.length<=0||void 0===arguments[0]?"Tab"+(this._fld.tabGrid.$items.length+1):arguments[0],t=this._fld,r=(0,a["default"])('\n			<div class="fld-tab">\n				<div class="tabs">\n					<div class="tab sel draggable">\n						<span>'+e+'</span>\n						<a class="settings icon" title="'+l["default"].t("Rename")+'"></a>\n					</div>\n				</div>\n				<div class="fld-tabcontent"></div>\n			</div>\n		').appendTo(t.$tabContainer);t.tabGrid.addItems(r),t.tabDrag.addItems(r);var i=this.$container.next(),n=this.$container.parent();return this.$container.appendTo(document.body),t.initTab(r),i.length>0?i.before(this.$container):n.append(this.$container),r},addFieldToTab:function(e,t){var r=arguments.length<=2||void 0===arguments[2]?null:arguments[2];r=!!r;var i=this._fld.$allFields.filter('[data-id="'+t+'"]'),n=i.closest(".fld-tab"),s=i.clone().removeClass("unused"),o=e.find(".fld-tabcontent");i.addClass("hidden"),0===i.siblings(":not(.hidden)").length&&(n.addClass("hidden"),this._fld.unusedFieldGrid.removeItems(n));var p=s.find(".id-input");if(0===p.length){var c=e.find(".tab > span").text(),u=this._fld.getFieldInputName(c);p=(0,a["default"])('<input class="id-input" type="hidden" name="'+u+'" value="'+t+'">'),s.append(p)}s.prepend('<a class="settings icon" title="'+l["default"].t("Edit")+'"></a>'),o.append(s),this._fld.initField(s),this._fld.fieldDrag.addItems(s),this.toggleFieldRequire(t,r)},toggleFieldRequire:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],r=this._fld.$tabContainer.find('[data-id="'+e+'"]'),i=r.hasClass("fld-required");if(null===t||t!==i){var n=r.find(".settings"),a=n.data("menubtn"),s=a.menu,o=s.$options,p=o.filter(".toggle-required");this._fld.toggleRequiredField(r,p)}},_updateInstructions:function(){this.$instructions&&this.$instructions.html(l["default"].t("For block type {blockType}",{blockType:this.getBlockName()||"&hellip;"}))},_initReasonsPlugin:function(){if(l["default"].ReasonsPlugin){var e=new l["default"].ReasonsPlugin.FieldLayoutDesigner(this.$container),t=this.getBlockId();e.settings.formSelector=".fieldlayoutform",e.init(),e.$conditionalsInput.prop("name","neo[reasons]["+t+"]"),e.$conditionalsIdInput.prop("name","neo[reasonsId]["+t+"]"),this._reasons=e}}})},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/configurator/templates/blocktype.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"id",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getId",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"logic",token:{type:"Twig.logic.type.set",key:"errors",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getErrors",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\n<div class="nc_sidebar_list_item '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"errors",match:["errors"]},{type:"Twig.expression.type.test",filter:"empty",modifier:"not"},{type:"Twig.expression.type.string",value:"has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'">\n	<div class="label" data-neo-bt="text.name">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</div>\n	<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-bt="button.move"></a>\n</div>\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=(i(s),r(5)),p=(i(o),r(6)),l=i(p),c=r(8),u=i(c),y=r(22),d=(i(y),r(24)),g=i(d);r(18);var h={namespace:[]};t["default"]=u["default"].extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.base(t),t=Object.assign({},h,t);var r=this.getSettings();this._templateNs=l["default"].parse(t.namespace),l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,g["default"])({settings:r})),l["default"].leave();var i=this.$container.find("[data-neo-g]");this.$nameText=i.filter('[data-neo-g="text.name"]'),this.$moveButton=i.filter('[data-neo-g="button.move"]'),r&&(r.on("change",function(){return e._updateTemplate()}),r.on("destroy",function(){return e.trigger("destroy")})),this.deselect()},toggleSelect:function(e){this.base(e);var t=this.getSettings(),r=this.isSelected();t&&t.$container.toggleClass("hidden",!r),this.$container.toggleClass("is-selected",r)},_updateTemplate:function(){var e=this.getSettings();e&&this.$nameText.text(e.getName())}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n),s=r(4),o=(i(s),r(5)),p=(i(o),r(6)),l=i(p),c=r(10),u=i(c),y=r(23),d=i(y);r(18);var g={namespace:[],sortOrder:0,name:""};t["default"]=u["default"].extend({_templateNs:[],$sortOrderInput:new a["default"],$nameInput:new a["default"],$handleInput:new a["default"],$maxBlocksInput:new a["default"],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},g,t),this._templateNs=l["default"].parse(t.namespace),this.setSortOrder(t.sortOrder),this.setName(t.name),l["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,d["default"])({sortOrder:this.getSortOrder(),name:this.getName()})),l["default"].leave();var r=this.$container.find("[data-neo-gs]");this.$sortOrderInput=r.filter('[data-neo-gs="input.sortOrder"]'),this.$nameInput=r.filter('[data-neo-gs="input.name"]'),this.$deleteButton=r.filter('[data-neo-gs="button.delete"]'),this.addListener(this.$nameInput,"keyup change",function(){return e.setName(e.$nameInput.val())}),this.addListener(this.$deleteButton,"click",function(){return e.destroy()})},getFocusInput:function(){return this.$nameInput},setSortOrder:function(e){this.base(e),this.$sortOrderInput.val(this.getSortOrder())},getName:function(){return this._name},setName:function(e){var t=this._name;this._name=e,this.$nameInput.val(this._name),this.trigger("change",{property:"name",oldValue:t,newValue:this._name})}})},function(e,t,r){r(12);var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/configurator/templates/group_settings.twig",data:[{type:"logic",token:{type:"Twig.logic.type.import",expression:"'../../macros.twig'",contextName:"macros",stack:[{type:"Twig.expression.type.string",value:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/macros.twig"}]}},{type:"raw",value:'\n<div>\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"sortOrder"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.string",value:"[]"},{type:"Twig.expression.type.operator.binary",value:"~",precidence:6,associativity:"leftToRight",operator:"~"}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sortOrder",match:["sortOrder"]}]},{type:"raw",value:'" data-neo-gs="input.sortOrder">\n\n	<div>\n		'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"macros",match:["macros"]},{type:"Twig.expression.type.key.period",key:"input",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"type"},{type:"Twig.expression.type.string",value:"text"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"name"},{type:"Twig.expression.type.string",value:"name"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]},{type:"Twig.expression.type.string",value:"[]"},{type:"Twig.expression.type.operator.binary",value:"~",precidence:6,associativity:"leftToRight",operator:"~"},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"label"},{type:"Twig.expression.type.string",value:"Name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"instructions"},{type:"Twig.expression.type.string",value:"This can be left blank if you just want an unlabeled separator."},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"value"},{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.comma"},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"attributes"},{type:"Twig.expression.type.object.start",value:"{",match:["{"]},{type:"Twig.expression.type.operator.binary",value:":",precidence:16,associativity:"rightToLeft",operator:":",key:"data-neo-gs"},{type:"Twig.expression.type.string",value:"input.name"},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.object.end",value:"}",match:["}"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'\n	</div>\n\n	<hr>\n\n	<a class="error delete" data-neo-gs="button.delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete group"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"</a>\n</div>\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/configurator/templates/group.twig",data:[{type:"logic",token:{type:"Twig.logic.type.set",key:"name",expression:[{type:"Twig.expression.type.variable",value:"settings",match:["settings"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:'\n<div class="nc_sidebar_list_item type-heading">\n	<div class="label" data-neo-g="text.name">'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"name",match:["name"]},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</div>\n	<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-g="button.move"></a>\n</div>\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/configurator/templates/configurator.twig",data:[{type:"raw",value:'<div class="nc_sidebar" data-neo="container.sidebar">\n	<div class="nc_sidebar_title">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Block types"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</div>\n	<div class="nc_sidebar_list" data-neo="container.blockTypes"></div>\n	<div class="nc_sidebar_buttons btngroup">\n		<a class="btn add icon" role="button" data-neo="button.blockType">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Block type"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\n		<a class="btn type-heading" role="button" data-neo="button.group">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Group"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\n	</div>\n</div>\n\n<div class="nc_main" data-neo="container.main">\n	<div class="nc_main_tabs">\n		<a class="nc_main_tabs_tab is-selected" role="button" data-neo="button.settings">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Settings"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\n		<a class="nc_main_tabs_tab" role="button" data-neo="button.fieldLayout">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Field Layout"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a>\n	</div>\n	<div class="nc_main_content" data-neo="container.settings"></div>\n	<div class="nc_main_content" data-neo="container.fieldLayout"></div>\n</div>\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(27);"string"==typeof i&&(i=[[e.id,i,""]]);r(29)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,r){t=e.exports=r(28)(),t.push([e.id,".neo-configurator>.field>.input{display:flex;min-height:400px}[data-neo='template.fld']{display:none}.nc_sidebar{width:200px;border-top-left-radius:3px;border-bottom-left-radius:3px;border:1px solid #ebebeb;background-color:#fafafa}.nc_sidebar_title{padding:10px 24px;border-top-left-radius:3px;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6);color:#8f98a3}.nc_sidebar_list{margin:0 -1px}.nc_sidebar_list:not(:empty){padding-top:10px}.nc_sidebar_list_item{cursor:default;position:relative;margin-top:-1px;padding:10px 14px 10px 40px;border:1px solid #ebebeb;background-color:#fcfcfc}.nc_sidebar_list_item>.label{color:#29323d}.nc_sidebar_list_item>.label:empty{font-style:italic;color:#8f98a3}.nc_sidebar_list_item>.label:empty:before{content:\"(blank)\"}.nc_sidebar_list_item>.move{display:block;position:absolute;top:11px;left:7px;width:24px;text-align:center}.nc_sidebar_list_item.is-selected{z-index:1;border-color:#dedede;background-color:#ececec}.nc_sidebar_list_item.has-errors{z-index:2;border-color:#efc7c7;background-color:#f9e0e0}.nc_sidebar_list_item.has-errors>.label{color:#da5a47}.nc_sidebar_list_item.has-errors.is-selected{border-color:#e1bbbb;background-color:#efc7c7}.nc_sidebar_list_item.type-heading{margin-top:9px}.nc_sidebar_list_item.type-heading:first-child{margin-top:0}.nc_sidebar_list_item.type-heading>.label{font-size:11px;font-weight:700;text-transform:uppercase;color:#b9bfc6}.nc_sidebar_list_item.type-heading>.label:empty{font-weight:400;color:#8f98a3}.nc_sidebar_buttons{padding:14px}.nc_sidebar_buttons>.btn.type-heading{font-size:11px;font-weight:700;text-transform:uppercase;color:#b9bfc6}.nc_main{flex-grow:1;flex-shrink:20;border-top-right-radius:3px;border-bottom-right-radius:3px;border:1px solid #ebebeb;border-left:0}.nc_main_tabs{display:flex;border-top-right-radius:3px;border-bottom:1px solid #ebebeb;background-image:linear-gradient(#f7f7f8,#f4f5f6)}.nc_main_tabs_tab{display:block;padding:10px 24px;color:#555}.nc_main_tabs_tab:hover{text-decoration:none;color:#0d78f2}.nc_main_tabs_tab.is-selected{margin-bottom:-1px;padding-bottom:11px;border-left:1px solid #ebebeb;border-right:1px solid #ebebeb;background-color:#fff;color:#29323d}.nc_main_tabs_tab.is-selected:first-child{border-left:0}.nc_main_content{padding:24px}.nc_main_content .fieldlayoutform .tab{background:transparent;box-shadow:none}.nc_main_content .fieldlayoutform .fld-field{margin-top:7px}.nc_main_content .fieldlayoutform .fld-tabcontent:not(:empty){padding-top:6px}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},n=0;n<this.length;n++){var a=this[n][0];"number"==typeof a&&(i[a]=!0)}for(n=0;n<t.length;n++){var s=t[n];"number"==typeof s[0]&&i[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(e,t,r){function i(e,t){for(var r=0;r<e.length;r++){var i=e[r],n=d[i.id];if(n){n.refs++;for(var a=0;a<n.parts.length;a++)n.parts[a](i.parts[a]);for(;a<i.parts.length;a++)n.parts.push(l(i.parts[a],t))}else{for(var s=[],a=0;a<i.parts.length;a++)s.push(l(i.parts[a],t));d[i.id]={id:i.id,refs:1,parts:s}}}}function n(e){for(var t=[],r={},i=0;i<e.length;i++){var n=e[i],a=n[0],s=n[1],o=n[2],p=n[3],l={css:s,media:o,sourceMap:p};r[a]?r[a].parts.push(l):t.push(r[a]={id:a,parts:[l]})}return t}function a(e,t){var r=f(),i=x[x.length-1];if("top"===e.insertAt)i?i.nextSibling?r.insertBefore(t,i.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),x.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=x.indexOf(e);t>=0&&x.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function p(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function l(e,t){var r,i,n;if(t.singleton){var a=v++;r=m||(m=o(t)),i=c.bind(null,r,a,!1),n=c.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=p(t),i=y.bind(null,r),n=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=o(t),i=u.bind(null,r),n=function(){s(r)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else n()}}function c(e,t,r,i){var n=r?"":i.css;if(e.styleSheet)e.styleSheet.cssText=b(t,n);else{var a=document.createTextNode(n),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function u(e,t){var r=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function y(e,t){var r=t.css,i=t.sourceMap;i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");
var n=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(n),a&&URL.revokeObjectURL(a)}var d={},g=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=g(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=g(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,v=0,x=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=n(e);return i(r,t),function(e){for(var a=[],s=0;s<r.length;s++){var o=r[s],p=d[o.id];p.refs--,a.push(p)}if(e){var l=n(e);i(l,t)}for(var s=0;s<a.length;s++){var p=a[s];if(0===p.refs){for(var c=0;c<p.parts.length;c++)p.parts[c]();delete d[p.id]}}}};var b=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=i(a);r(3);var o=r(4),p=i(o),l=r(5),c=(i(l),r(6)),u=i(c),y=r(31),d=i(y),g=r(33),h=i(g),f=r(34),m=i(f),v=r(36),x=i(v),b=r(38),w=i(b);r(18),r(39);var k={namespace:[],blockTypes:[],groups:[],blocks:[],inputId:null,maxBlocks:0};t["default"]=p["default"].Base.extend({_templateNs:[],init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},k,t),this._templateNs=u["default"].parse(t.namespace),this._blockTypes=[],this._groups=[],this._blocks=[],this._maxBlocks=t.maxBlocks,u["default"].enter(this._templateNs),this.$container=(0,s["default"])("#"+t.inputId).append((0,w["default"])({blockTypes:t.blockTypes})),u["default"].leave();var r=!0,i=!1,a=void 0;try{for(var o,l=t.blockTypes[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var c=o.value,y=new d["default"](c);this._blockTypes.push(y),this._blockTypes[y.getHandle()]=y}}catch(g){i=!0,a=g}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw a}}var f=!0,v=!1,b=void 0;try{for(var T,_=t.groups[Symbol.iterator]();!(f=(T=_.next()).done);f=!0){var $=T.value,O=new h["default"]($);this._groups.push(O)}}catch(g){v=!0,b=g}finally{try{!f&&_["return"]&&_["return"]()}finally{if(v)throw b}}var B=this.$container.find("[data-neo]");this.$blocksContainer=B.filter('[data-neo="container.blocks"]'),this.$buttonsContainer=B.filter('[data-neo="container.buttons"]'),this._buttons=new x["default"]({blockTypes:this.getBlockTypes(),groups:this.getGroups(),maxBlocks:this.getMaxBlocks()}),this.$buttonsContainer.append(this._buttons.$container),this._buttons.on("newBlock",function(t){return e["@newBlock"](t)}),this._buttons.initUi(),this._blockSort=new p["default"].DragSort(null,{container:this.$blocksContainer,handle:'[data-neo-b="button.move"]',axis:"y",filter:function(){return e._blockSort.$targetItem.hasClass("is-selected")?e._blockSelect.getSelectedItems():e._blockSort.$targetItem},collapseDraggees:!0,magnetStrength:4,helperLagBase:1.5,helperOpacity:.9,onSortChange:function(){return e._updateBlockOrder()}}),this._blockSelect=new p["default"].Select(this.$blocksContainer,null,{multi:!0,vertical:!0,handle:'[data-neo-b="select"], [data-neo-b="button.toggler"]',checkboxMode:!0,selectedClass:"is-selected sel"});var S=!0,N=!1,j=void 0;try{for(var I,A=t.blocks[Symbol.iterator]();!(S=(I=A.next()).done);S=!0){var L=I.value,E=this._blockTypes[L.blockType];L.namespace=[].concat(n(this._templateNs),[L.id]),L.blockType=new d["default"]({name:E.getName(),handle:E.getHandle(),maxBlocks:E.getMaxBlocks(),tabs:L.tabs});var C=new m["default"](L);this.addBlock(C)}}catch(g){N=!0,j=g}finally{try{!S&&A["return"]&&A["return"]()}finally{if(N)throw j}}},addBlock:function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?-1:arguments[1];r>=0&&r<this._blocks.length?(this._blocks[r].$container.before(e.$container),this._blocks.splice(r,0,e)):(this.$blocksContainer.append(e.$container),this._blocks.push(e)),this._blockSort.addItems(e.$container),this._blockSelect.addItems(e.$container),e.initUi(),e.on("destroy.input",function(r){return t._blockBatch(e,function(e){return t.removeBlock(e)})}),e.on("toggleEnabled.input",function(r){return t._blockBatch(e,function(e){return e.toggleEnabled(r.enabled)})}),e.on("toggleExpansion.input",function(r){return t._blockBatch(e,function(e){return e.toggleExpansion(r.expanded)})}),e.on("addBlockAbove.input",function(e){return t["@addBlockAbove"](e)}),this._destroyTempButtons(),this._updateButtons(),this._updateBlockOrder(),this.trigger("addBlock",{block:e,index:r})},removeBlock:function(e){e.$container.remove(),e.off(".input"),this._blocks=this._blocks.filter(function(t){return t!==e}),this._blockSort.removeItems(e.$container),this._blockSelect.removeItems(e.$container),this._destroyTempButtons(),this._updateButtons(),this.trigger("removeBlock",{block:e})},getBlockByElement:function(e){return this._blocks.find(function(t){return t.$container.is(e)})},getBlocks:function(){return Array.from(this._blocks)},getBlockTypes:function(){return Array.from(this._blockTypes)},getGroups:function(){return Array.from(this._groups)},getMaxBlocks:function(){return this._maxBlocks},getSelectedBlocks:function(){var e=this._blockSelect.getSelectedItems();return this._blocks.filter(function(t){return t.$container.is(e)})},_updateBlockOrder:function(){var e=this,t=[];this._blockSort.$items.each(function(r,i){var n=e.getBlockByElement(i);t.push(n)}),this._blocks=t},_updateButtons:function(){var e=this.getBlocks();this._buttons.updateButtonStates(e),this._tempButtons&&this._tempButtons.updateButtonStates(e)},_blockBatch:function(e,t){var r=e.isSelected()?this.getSelectedBlocks():[e],i=!0,n=!1,a=void 0;try{for(var s,o=r[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var p=s.value;t(p)}}catch(l){n=!0,a=l}finally{try{!i&&o["return"]&&o["return"]()}finally{if(n)throw a}}},_destroyTempButtons:function(){this._tempButtons&&(this._tempButtons.off("newBlock"),this._tempButtons.$container.remove(),this._tempButtons=null)},"@newBlock":function(e){var t=m["default"].getNewId(),r=new m["default"]({namespace:[].concat(n(this._templateNs),[t]),blockType:e.blockType,id:t});this.addBlock(r,e.index)},"@addBlockAbove":function(e){var t=this;this._destroyTempButtons();var r=e.block,i=new x["default"]({blockTypes:this.getBlockTypes(),groups:this.getGroups(),maxBlocks:this.getMaxBlocks(),blocks:this.getBlocks()});r.$container.before(i.$container),i.on("newBlock",function(e){t["@newBlock"]({blockType:e.blockType,index:t._blocks.indexOf(r)})}),i.initUi(),this._tempButtons=i}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=i(n),s=r(32),o=i(s),p={sortOrder:0,name:"",handle:"",maxBlocks:0,tabs:[]};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},p,e),this._sortOrder=0|e.sortOrder,this._name=e.name,this._handle=e.handle,this._maxBlocks=0|e.maxBlocks,this._tabs=e.tabs.map(function(e){return new o["default"](e)})},getType:function(){return"blockType"},getSortOrder:function(){return this._sortOrder},getName:function(){return this._name},getHandle:function(){return this._handle},getMaxBlocks:function(){return this._maxBlocks},getTabs:function(){return Array.from(this._tabs)}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=i(n),s={name:"",bodyHtml:"",footHtml:"",errors:[]};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},s,e),this._name=e.name,this._bodyHtml=e.bodyHtml||"",this._footHtml=e.footHtml||"",this._errors=e.errors},getErrors:function(){return Array.from(this._errors)},getName:function(){return this._name},getBodyHtml:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null!==e?this._bodyHtml.replace(/__NEOBLOCK__/g,e):this._bodyHtml},getFootHtml:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];return null!==e?this._footHtml.replace(/__NEOBLOCK__/g,e):this._footHtml}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(4),a=i(n),s={sortOrder:0,name:""};t["default"]=a["default"].Base.extend({init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},s,e),this._sortOrder=0|e.sortOrder,this._name=e.name},getType:function(){return"group"},getSortOrder:function(){return this._sortOrder},getName:function(){return this._name},isBlank:function(){return!this._name}})},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),a=i(n);r(3);var s=r(4),o=i(s),p=r(5),l=i(p),c=r(6),u=i(c),y=r(35),d=i(y);r(18);var g={namespace:[],blockType:null,id:null,enabled:!0,collapsed:!1};t["default"]=o["default"].Base.extend({_templateNs:[],_blockType:null,_initialised:!1,_expanded:!0,_enabled:!0,init:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];e=Object.assign({},g,e),this._templateNs=u["default"].parse(e.namespace),this._blockType=e.blockType,this._id=e.id,u["default"].enter(this._templateNs),this.$container=(0,a["default"])((0,d["default"])({type:this._blockType,id:this._id,enabled:!!e.enabled,collapsed:!!e.collapsed})),u["default"].leave();var t=this.$container.find("[data-neo-b]");this.$contentContainer=t.filter('[data-neo-b="container.content"]'),this.$tabContainer=t.filter('[data-neo-b="container.tab"]'),this.$menuContainer=t.filter('[data-neo-b="container.menu"]'),this.$tabButton=t.filter('[data-neo-b="button.tab"]'),this.$settingsButton=t.filter('[data-neo-b="button.actions"]'),this.$togglerButton=t.filter('[data-neo-b="button.toggler"]'),this.$enabledInput=t.filter('[data-neo-b="input.enabled"]'),this.$collapsedInput=t.filter('[data-neo-b="input.collapsed"]'),this.$status=t.filter('[data-neo-b="status"]'),this.toggleEnabled(e.enabled),this.toggleExpansion(!e.collapsed),this.addListener(this.$togglerButton,"dblclick","@doubleClickTitle"),this.addListener(this.$tabButton,"click","@setTab")},initUi:function(){var e=this;if(!this._initialised){var t=this._blockType.getTabs(),r=t.map(function(t){return t.getFootHtml(e._id)});this.$foot=(0,a["default"])(r.join("")),o["default"].$bod.append(this.$foot),l["default"].initUiElements(this.$contentContainer),this._settingsMenu=new o["default"].MenuBtn(this.$settingsButton),this._settingsMenu.on("optionSelect",function(t){return e["@settingSelect"](t)}),this._initialised=!0,this.trigger("initUi")}},destroy:function(){this._initialised&&(this.$container.remove(),this.$foot.remove(),this.trigger("destroy"))},getBlockType:function(){return this._blockType},getId:function(){return this._id},isNew:function(){return/^new/.test(this.getId())},isSelected:function(){return this.$container.hasClass("is-selected")},collapse:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.toggleExpansion(!1,e)},expand:function(){var e=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];this.toggleExpansion(!0,e)},toggleExpansion:function(){var e=arguments.length<=0||void 0===arguments[0]?!this._expanded:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(e!==this._expanded){this._expanded=e;var r=this.$menuContainer.find('[data-action="expand"]').parent(),i=this.$menuContainer.find('[data-action="collapse"]').parent();this.$container.toggleClass("is-expanded",this._expanded).toggleClass("is-contracted",!this._expanded),r.toggleClass("hidden",this._expanded),i.toggleClass("hidden",!this._expanded),this.$collapsedInput.val(this._expanded?0:1),t&&this.saveExpansion(),this.trigger("toggleExpansion",{expanded:this._expanded})}},isExpanded:function(){return this._expanded},saveExpansion:function(){this.isNew()||l["default"].queueActionRequest("neo/saveExpansion",{expanded:this.isExpanded(),blockId:this.getId()})},disable:function(){this.toggleEnabled(!1)},enable:function(){this.toggleEnabled(!0)},toggleEnabled:function(){var e=arguments.length<=0||void 0===arguments[0]?!this._enabled:arguments[0];if(e!==this._enabled){this._enabled=e;var t=this.$menuContainer.find('[data-action="enable"]').parent(),r=this.$menuContainer.find('[data-action="disable"]').parent();this.$container.toggleClass("is-enabled",this._enabled).toggleClass("is-disabled",!this._enabled),this.$status.toggleClass("hidden",this._enabled),t.toggleClass("hidden",this._enabled),r.toggleClass("hidden",!this._enabled),this.$enabledInput.val(this._enabled?1:0),this.trigger("toggleEnabled",{enabled:this._enabled})}},isEnabled:function(){return this._enabled},selectTab:function(e){var t=(0,a["default"])().add(this.$tabButton).add(this.$tabContainer);t.removeClass("is-selected");var r=t.filter('[data-neo-b-info="'+e+'"]').addClass("is-selected");this.trigger("selectTab",{tabName:e,$tabButton:r.filter('[data-neo-b="button.tab"]'),$tabContainer:r.filter('[data-neo-b="container.tab"]')})},"@settingSelect":function(e){var t=(0,a["default"])(e.option);switch(t.attr("data-action")){case"collapse":this.collapse();break;case"expand":this.expand();break;case"disable":this.disable(),this.collapse();break;case"enable":this.enable();break;case"delete":this.destroy();break;case"add":this.trigger("addBlockAbove",{block:this})}},"@doubleClickTitle":function(e){e.preventDefault(),this.toggleExpansion()},"@setTab":function(e){e.preventDefault();var t=(0,a["default"])(e.currentTarget),r=t.attr("data-neo-b-info");this.selectTab(r)}},{_totalNewBlocks:0,getNewId:function(){return"new"+this._totalNewBlocks++}})},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/input/templates/block.twig",data:[{type:"raw",value:'<div class="ni_block">\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"type"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"enabled"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"enabled",match:["enabled"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="input.enabled">\n	<input type="hidden" name="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"collapsed"},{type:"Twig.expression.type.filter",value:"ns",match:["|ns","ns"]}]},{type:"raw",value:'" value="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"collapsed",match:["collapsed"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'" data-neo-b="input.collapsed">\n	<div class="ni_block_topbar">\n		<div class="ni_block_topbar_item" data-neo-b="select">\n			<div class="checkbox" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Select"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'"></div>\n		</div>\n		<div class="ni_block_topbar_item" data-neo-b="button.toggler">\n			<span>'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</span>\n		</div>\n		<div class="ni_block_topbar_item size-full" data-neo-b="button.toggler">\n			<span data-neo-b="text.content"></span>\n		</div>\n		<div class="ni_block_topbar_item tabs '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:1,match:["1",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.string",value:"hidden"},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'">\n			'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"tab",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:'				<a class="tab '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"},{type:"Twig.expression.type.string",value:"is-selected"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:" "},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"getErrors",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.filter",value:"length",match:["|length","length"]},{type:"Twig.expression.type.number",value:0,match:["0",null]},{type:"Twig.expression.type.operator.binary",value:">",precidence:8,associativity:"leftToRight",operator:">"},{type:"Twig.expression.type.string",value:"has-errors"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'"\n				   data-neo-b="button.tab"\n				   data-neo-b-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'">\n					'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:"\n				</a>\n			"}]}},{type:"raw",value:'		</div>\n		<div class="ni_block_topbar_item hidden" data-neo-b="status">\n			<div class="status off" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Disabled"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'"></div>\n		</div>\n		<div class="ni_block_topbar_item">\n			<a class="settings icon menubtn" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Actions"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-b="button.actions"></a>\n			<div class="menu" data-neo-b="container.menu">\n				<ul class="padded">\n					<li><a data-icon="collapse" data-action="collapse">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Collapse"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n					<li class="hidden"><a data-icon="expand" data-action="expand">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Expand"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n					<li><a data-icon="disabled" data-action="disable">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Disable"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n					<li class="hidden"><a data-icon="enabled" data-action="enable">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Enable"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n				</ul>\n				<hr class="padded">\n				<ul class="padded">\n					<li><a data-icon="+" data-action="add">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Add block above"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n				</ul>\n				<hr class="padded">\n				<ul class="padded">\n					<li><a data-icon="remove" data-action="delete">'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Delete"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'</a></li>\n				</ul>\n			</div>\n		</div>\n		<div class="ni_block_topbar_item">\n			<a class="move icon" title="'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Reorder"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'" role="button" data-neo-b="button.move"></a>\n		</div>\n	</div>\n	<div class="ni_block_content" data-neo-b="container.content">\n		'},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"tab",expression:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.key.period",key:"getTabs",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}],output:[{type:"raw",value:'			<div class="ni_block_content_tab '},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"},{type:"Twig.expression.type.string",value:"is-selected"},{type:"Twig.expression.type.string",value:""},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]},{type:"raw",value:'"\n				 data-neo-b="container.tab"\n				 data-neo-b-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"name"}]},{type:"raw",value:'">\n				'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"tab",match:["tab"]},{type:"Twig.expression.type.key.period",key:"getBodyHtml",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.variable",value:"id",match:["id"]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n			</div>\n		"}]}},{type:"raw",value:"	</div>\n</div>\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=r(2),s=i(a);r(3);var o=r(4),p=i(o),l=r(5),c=i(l),u=r(37),y=i(u);r(18);var d={blockTypes:[],groups:[],maxBlocks:0,blocks:null};t["default"]=p["default"].Base.extend({_blockTypes:[],_groups:[],_maxBlocks:0,init:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];t=Object.assign({},d,t),this._blockTypes=Array.from(t.blockTypes),this._groups=Array.from(t.groups),this._maxBlocks=t.maxBlocks;var r=[].concat(n(this._blockTypes),n(this._groups)).sort(function(e,t){return e.getSortOrder()-t.getSortOrder()});this.$container=(0,s["default"])((0,y["default"])({blockTypes:this._blockTypes,groups:this._groups,items:r,maxBlocks:this._maxBlocks}));var i=this.$container.find("[data-neo-bn]");this.$buttonsContainer=i.filter('[data-neo-bn="container.buttons"]'),this.$menuContainer=i.filter('[data-neo-bn="container.menu"]'),this.$blockButtons=i.filter('[data-neo-bn="button.addBlock"]'),t.blocks&&this.updateButtonStates(t.blocks),this.addListener(this.$blockButtons,"activate","@newBlock"),this.addListener(this.$container,"resize",function(){return e.updateResponsiveness()})},initUi:function(){c["default"].initUiElements(this.$container),this.updateResponsiveness()},updateButtonStates:function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=this,r=this._maxBlocks>0&&e.length>=this._maxBlocks;this.$blockButtons.each(function(){var i=(0,s["default"])(this),n=r;n||!function(){var r=t.getBlockTypeByButton(i),a=e.filter(function(e){return e.getBlockType().getHandle()===r.getHandle()}),s=r.getMaxBlocks();n=s>0&&a.length>=s}(),i.toggleClass("disabled",n)})},updateResponsiveness:function(){this._buttonsContainerWidth||(this._buttonsContainerWidth=this.$buttonsContainer.width());var e=this.$container.width()<this._buttonsContainerWidth;this.$buttonsContainer.toggleClass("hidden",e),this.$menuContainer.toggleClass("hidden",!e)},getBlockTypeByButton:function(e){var t=e.attr("data-neo-bn-info");return this._blockTypes.find(function(e){return e.getHandle()===t})},"@newBlock":function(e){var t=(0,s["default"])(e.currentTarget),r=t.attr("data-neo-bn-info"),i=this._blockTypes.find(function(e){return e.getHandle()===r});this.trigger("newBlock",{blockType:i})}})},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/input/templates/buttons.twig",data:[{type:"raw",value:'<div class="ni_buttons">\n	<div class="btngroup"\n	     data-neo-bn="container.buttons">\n		'},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"		"},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:"			"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getType",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"			"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"blockType"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:'					<li>\n						<a data-neo-bn="button.addBlock"\n						   data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n							'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n						</a>\n					</li>\n				"}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:'					<div class="btn'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"}],output:[{type:"raw",value:" add icon"}]}},{type:"raw",value:'"\n						 data-neo-bn="button.addBlock"\n						 data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n					</div>\n				"}]}},{type:"raw",value:"			"}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"group"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"</ul></div>"}]},{type:"raw",value:"\n				"}]}},{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]}},{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:'					<div class="btn'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"loop",match:["loop"]},{type:"Twig.expression.type.key.period",key:"first"}],output:[{type:"raw",value:" add icon"}]}},{type:"raw",value:' menubtn">\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n					</div>\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:'<div class="menu"><ul>'}]},{type:"raw",value:"\n				"}]}},{type:"raw",value:"			"}]}},{type:"raw",value:"		"}]}},{type:"raw",value:"		"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"			"},{type:"output",
stack:[{type:"Twig.expression.type.string",value:"</ul></div>"}]},{type:"raw",value:"\n		"}]}},{type:"raw",value:'	</div>\n	<div class="btn add icon menubtn hidden"\n	     data-neo-bn="container.menu">\n		'},{type:"output",stack:[{type:"Twig.expression.type.string",value:"Add a block"},{type:"Twig.expression.type.filter",value:"t",match:["|t","t"]}]},{type:"raw",value:'\n	</div>\n	<div class="menu">\n		<ul>\n		'},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.bool",value:!1}]}},{type:"raw",value:"		"},{type:"logic",token:{type:"Twig.logic.type.for",key_var:null,value_var:"item",expression:[{type:"Twig.expression.type.variable",value:"items",match:["items"]}],output:[{type:"raw",value:"			"},{type:"logic",token:{type:"Twig.logic.type.set",key:"type",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getType",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]}},{type:"raw",value:"			"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"blockType"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:'				<li>\n					<a data-neo-bn="button.addBlock"\n					   data-neo-bn-info="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getHandle",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:'">\n						'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"\n					</a>\n				</li>\n			"}]}},{type:"logic",token:{type:"Twig.logic.type.elseif",stack:[{type:"Twig.expression.type.variable",value:"type",match:["type"]},{type:"Twig.expression.type.string",value:"group"},{type:"Twig.expression.type.operator.binary",value:"==",precidence:9,associativity:"leftToRight",operator:"=="}],output:[{type:"raw",value:"				"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"</ul>"}]},{type:"raw",value:"\n				"},{type:"logic",token:{type:"Twig.logic.type.set",key:"currentGroup",expression:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"isBlank",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]},{type:"Twig.expression.type.bool",value:!1},{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.operator.binary",value:"?",precidence:16,associativity:"rightToLeft",operator:"?"}]}},{type:"raw",value:"				"},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"currentGroup",match:["currentGroup"]}],output:[{type:"raw",value:"					<h6>"},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"item",match:["item"]},{type:"Twig.expression.type.key.period",key:"getName",params:[{type:"Twig.expression.type.parameter.start",value:"(",match:["("]},{type:"Twig.expression.type.parameter.end",value:")",match:[")"],expression:!1}]}]},{type:"raw",value:"</h6>\n					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:'<ul class="padded">'}]},{type:"raw",value:"\n				"}]}},{type:"logic",token:{type:"Twig.logic.type.else",match:["else"],output:[{type:"raw",value:"					"},{type:"output",stack:[{type:"Twig.expression.type.string",value:"<ul>"}]},{type:"raw",value:"\n				"}]}},{type:"raw",value:"			"}]}},{type:"raw",value:"		"}]}},{type:"raw",value:"		</ul>\n	</div>\n</div>\n"}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(13).twig,n=i({id:"/Applications/AMPPS/www/craft-neo/craft/plugins/src/input/templates/input.twig",data:[{type:"raw",value:'<div class="ni_blocks" data-neo="container.blocks"></div>\n<div data-neo="container.buttons"></div>\n'}],allowInlineIncludes:!0});e.exports=function(e){return n.render(e)}},function(e,t,r){var i=r(40);"string"==typeof i&&(i=[[e.id,i,""]]);r(29)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,r){t=e.exports=r(28)(),t.push([e.id,".ni_buttons{position:relative;height:30px}.ni_buttons>.btngroup,.ni_buttons>.menubtn{position:absolute;top:0}body.ltr .ni_buttons>.btngroup,body.ltr .ni_buttons>.menubtn{left:0}body.rtl .ni_buttons>.btngroup,body.rtl .ni_buttons>.menubtn{right:0}.ni_block,.ni_blocks>.ni_buttons{margin-bottom:10px}.ni_block{border-radius:3px;border:1px solid #e3e5e8;overflow:hidden}.ni_block:focus{outline:0}.ni_block_topbar{display:flex;height:30px;line-height:30px;background-color:#eef0f1;color:#8f98a3}.ni_block_topbar_item{cursor:default;padding:0 8px;-webkit-user-select:none;-moz-user-select:none;user-select:none}body.ltr .ni_block_topbar_item:not(:first-child),body.rtl .ni_block_topbar_item:not(:last-child){padding-left:0}.ni_block_topbar_item.size-full{flex-grow:1}.ni_block_topbar_item.tabs .tab{display:block;height:30px;padding:0 10px;color:rgba(41,50,61,.5)}body.ltr .ni_block_topbar_item.tabs .tab{float:left}body.rtl .ni_block_topbar_item.tabs .tab{float:right}.ni_block_topbar_item.tabs .tab:hover{color:#0d78f2}.ni_block_topbar_item.tabs .tab.is-selected{cursor:default;padding:0 9px;border:1px solid #e3e5e8;border-top:0;border-bottom-color:#fafafa;margin-bottom:-1px;background-color:#fafafa;color:#576575}.ni_block_topbar_item.tabs .tab.has-errors{color:#da5a47}.ni_block_topbar_item>.checkbox{color:#29323d}.ni_block_topbar_item>.status{margin:10px 5px 0 0}.ni_block_topbar_item>a{color:rgba(41,50,61,.25)}.ni_block_topbar_item>a:hover{color:#0d78f2}.ni_block_content{padding:14px;border-top:1px solid #e3e5e8;background-color:#fafafa}.ni_block_content_tab{display:none}.ni_block_content_tab.is-selected{display:block}.ni_block_content_tab>.field{margin:18px 0}.ni_block.is-contracted .ni_block_content,.ni_block.is-contracted .ni_block_topbar_item.tabs{display:none}.ni_block.is-disabled .ni_block_content_tab{pointer-events:none;opacity:.5;-webkit-user-select:none;-moz-user-select:none;user-select:none}",""])}]);
//# sourceMappingURL=main.js.map