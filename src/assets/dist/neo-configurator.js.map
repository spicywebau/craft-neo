{"version":3,"file":"neo-configurator.js","mappings":"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","sources":["webpack://craft-neo/webpack/bootstrap","webpack://craft-neo/webpack/runtime/compat get default export","webpack://craft-neo/webpack/runtime/define property getters","webpack://craft-neo/webpack/runtime/hasOwnProperty shorthand","webpack://craft-neo/external var \"jQuery\"","webpack://craft-neo/./src/assets/src/jquery-extensions.js","webpack://craft-neo/external var \"Garnish\"","webpack://craft-neo/external var \"Craft\"","webpack://craft-neo/./node_modules/uuid/dist/esm-browser/native.js","webpack://craft-neo/./node_modules/uuid/dist/esm-browser/rng.js","webpack://craft-neo/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://craft-neo/./node_modules/uuid/dist/esm-browser/v4.js","webpack://craft-neo/./src/assets/src/namespace.js","webpack://craft-neo/./src/assets/src/configurator/Item.js","webpack://craft-neo/./src/assets/src/configurator/BlockTypeFieldLayout.js","webpack://craft-neo/./src/assets/src/configurator/BlockType.js","webpack://craft-neo/./src/assets/src/configurator/Settings.js","webpack://craft-neo/./src/assets/src/configurator/BlockTypeIconSelect.js","webpack://craft-neo/./src/assets/src/configurator/BlockTypeSettings.js","webpack://craft-neo/./src/assets/src/configurator/Group.js","webpack://craft-neo/./src/assets/src/configurator/GroupSettings.js","webpack://craft-neo/./src/assets/src/configurator/Configurator.js","webpack://craft-neo/./src/assets/src/configurator.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = jQuery;","import $ from 'jquery'\n\n// @see http://stackoverflow.com/a/12903503/556609\n$.fn.insertAt = function (index, $parent) {\n  return this.each(function () {\n    if (index === 0) {\n      $parent.prepend(this)\n    } else {\n      $parent.children().eq(index - 1).after(this)\n    }\n  })\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = Garnish;","const __WEBPACK_NAMESPACE_OBJECT__ = Craft;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","export default {\n\n  _stack: [[]],\n\n  enter (segments, join = true) {\n    if (typeof segments === 'string') {\n      segments = this.fromFieldName(segments)\n    }\n\n    if (join) {\n      const joined = this.getNamespace()\n      joined.push(...segments)\n\n      segments = joined\n    }\n\n    this._stack.push(segments)\n  },\n\n  enterByFieldName (fieldName, join = true) {\n    this.enter(this.fromFieldName(fieldName), join)\n  },\n\n  leave () {\n    return this._stack.length > 1\n      ? this._stack.pop()\n      : this.getNamespace()\n  },\n\n  getNamespace () {\n    return Array.from(this._stack[this._stack.length - 1])\n  },\n\n  parse (value) {\n    if (typeof value === 'string') {\n      if (value.indexOf('[') > -1) {\n        return this.fromFieldName(value)\n      }\n\n      if (value.indexOf('-') > -1) {\n        return value.split('-')\n      }\n\n      if (value.indexOf('.') > -1) {\n        return value.split('.')\n      }\n\n      return value\n    }\n\n    return Array.from(value)\n  },\n\n  value (value, separator = '-') {\n    const segments = this.getNamespace()\n    segments.push(value)\n\n    return segments.join(separator)\n  },\n\n  fieldName (fieldName = '') {\n    const prefix = this.toFieldName()\n\n    if (prefix) {\n      return prefix + fieldName.replace(/([^'\"[\\]]+)([^'\"]*)/, '[$1]$2')\n    }\n\n    return fieldName\n  },\n\n  toString (separator = '-') {\n    return this.getNamespace().join(separator)\n  },\n\n  toFieldName () {\n    const segments = this.getNamespace()\n\n    switch (segments.length) {\n      case 0: return ''\n      case 1: return segments[0]\n    }\n\n    return segments[0] + '[' + segments.slice(1).join('][') + ']'\n  },\n\n  fromFieldName (fieldName) {\n    return fieldName.match(/[^[\\]\\s]+/g) || []\n  }\n}\n","import Garnish from 'garnish'\n\nconst _defaults = {\n  settings: null\n}\n\nexport default Garnish.Base.extend({\n\n  $container: null,\n  _field: null,\n  _selected: false,\n\n  init (settings = {}) {\n    settings = Object.assign({}, _defaults, settings)\n    this._field = settings.field\n    this._settings = settings.settings\n  },\n\n  /**\n   * @since 3.8.0\n   * @returns Promise\n   */\n  load () {\n    return Promise.resolve()\n  },\n\n  /**\n   * @since 3.8.0\n   * @returns the Neo field this item belongs to\n   */\n  getField () {\n    return this._field\n  },\n\n  getSettings () {\n    return this._settings\n  },\n\n  /**\n   * @since 3.8.0\n   */\n  getSortOrder () {\n    return this.$container.index() + 1\n  },\n\n  select () {\n    this.toggleSelect(true)\n  },\n\n  deselect () {\n    this.toggleSelect(false)\n  },\n\n  toggleSelect: function (select) {\n    this._selected = (typeof select === 'boolean' ? select : !this._selected)\n\n    this.trigger('toggleSelect', {\n      selected: this._selected\n    })\n  },\n\n  isSelected () {\n    return this._selected\n  }\n})\n","import $ from 'jquery'\nimport Garnish from 'garnish'\nimport Craft from 'craft'\nimport NS from '../namespace'\n\nconst _defaults = {\n  namespace: [],\n  html: '',\n  layout: null,\n  id: -1,\n  uid: null,\n  blockId: null,\n  initJs: true\n}\n\nexport default Garnish.Base.extend({\n\n  _templateNs: [],\n  _initialisedJs: false,\n\n  init (settings = {}) {\n    settings = Object.assign({}, _defaults, settings)\n\n    this._templateNs = NS.parse(settings.namespace)\n    this._id = settings.id | 0\n    this._uid = settings.uid\n    this._blockTypeId = settings.blockTypeId\n\n    this.$container = $(settings.html).find('.layoutdesigner')\n    this.$container.removeAttr('id')\n\n    const nameInput = this.$container.find('input[name=\"fieldLayout\"]')\n\n    if (nameInput.length > 0) {\n      nameInput[0].name = `neoBlockType${this._blockTypeId}[fieldLayout]`\n\n      if (settings.layout) {\n        nameInput[0].value = JSON.stringify(settings.layout)\n      }\n    }\n\n    if (settings.initJs) {\n      this.initJs()\n    }\n  },\n\n  initJs () {\n    if (this._initialisedJs) {\n      return\n    }\n\n    NS.enter(this._templateNs)\n\n    this._fld = new Craft.FieldLayoutDesigner(this.$container, {\n      elementType: 'benf\\\\neo\\\\elements\\\\Block',\n      customizableTabs: true,\n      customizableUi: true\n    })\n\n    NS.leave()\n    this._updateChildBlocksUiElement()\n    this._tabObserver = new window.MutationObserver(() => this._updateChildBlocksUiElement())\n    this._tabObserver.observe(this._fld.$tabContainer[0], { childList: true, subtree: true })\n    this._initialisedJs = true\n  },\n\n  getId () {\n    return this._id\n  },\n\n  /**\n   * @since 4.0.5\n   */\n  getUid () {\n    return this._uid\n  },\n\n  getBlockTypeId () {\n    return this._blockTypeId\n  },\n\n  getConfig () {\n    const newConfig = {\n      tabs: [],\n      uid: this._uid\n    }\n\n    for (const tab of this._fld.config.tabs) {\n      const newElements = []\n\n      for (const element of tab.elements) {\n        const newElement = {}\n\n        for (const key in element) {\n          newElement[key] = key === 'required' && !element[key] ? '' : element[key]\n        }\n\n        newElements.push(newElement)\n      }\n\n      newConfig.tabs.push({\n        elements: newElements,\n        name: tab.name.slice()\n      })\n    }\n\n    return newConfig\n  },\n\n  _updateChildBlocksUiElement () {\n    const selector = '[data-type=benf-neo-fieldlayoutelements-ChildBlocksUiElement]'\n    const $uiLibraryElement = this._fld.$uiLibraryElements.filter(selector)\n    const $tabUiElement = this._fld.$tabContainer.find(selector)\n    $uiLibraryElement.toggleClass(\n      'hidden',\n      $tabUiElement.length > 0 || $('body.dragging .draghelper' + selector).length > 0\n    )\n    if ($tabUiElement.hasClass('velocity-animating')) {\n      $tabUiElement.removeClass('hidden')\n    }\n  }\n})\n","import $ from 'jquery'\nimport Craft from 'craft'\nimport Item from './Item'\nimport NS from '../namespace'\nimport BlockTypeFieldLayout from './BlockTypeFieldLayout'\n\nconst _defaults = {\n  namespace: [],\n  fieldLayout: null,\n  alreadyLoaded: false\n}\n\nexport default Item.extend({\n\n  _templateNs: [],\n  _loaded: false,\n\n  init (settings = {}) {\n    this.base(settings)\n\n    const settingsObj = this.getSettings()\n    settings = Object.assign({}, _defaults, settings)\n\n    this._templateNs = NS.parse(settings.namespace)\n    this._field = settings.field\n    this._fieldLayout = settings.fieldLayout\n    this._loaded = settings.alreadyLoaded\n    const sidebarItem = this.getField()?.$sidebarContainer.find(`[data-neo-bt=\"container.${this.getId()}`)\n\n    if (sidebarItem?.length > 0) {\n      this.$container = sidebarItem\n    } else {\n      this.$container = this._generateBlockType(settingsObj)\n    }\n\n    const $neo = this.$container.find('[data-neo-bt]')\n    this.$nameText = $neo.filter('[data-neo-bt=\"text.name\"]')\n    this.$handleText = $neo.filter('[data-neo-bt=\"text.handle\"]')\n    this.$moveButton = $neo.filter('[data-neo-bt=\"button.move\"]')\n    this.$actionsButton = $neo.filter('[data-neo-bt=\"button.actions\"]')\n\n    // Set up the actions menu\n    this.$actionsButton.menubtn()\n    this._actionsMenu = this.$actionsButton.data('menubtn')\n    this._actionsMenu.on('optionSelect', e => this['@actionSelect'](e))\n    this.$actionsMenu = this._actionsMenu.menu.$container\n\n    // Stop the actions button click from selecting the block type and closing the menu\n    this.addListener(this.$actionsButton, 'click', e => e.stopPropagation())\n\n    if (settingsObj) {\n      settingsObj.on('change', () => this._updateTemplate())\n      settingsObj.on('destroy', () => this.trigger('destroy'))\n\n      this._updateTemplate()\n    }\n\n    this.deselect()\n  },\n\n  _generateBlockType (settings) {\n    const sortOrderNamespace = [...this._templateNs]\n    sortOrderNamespace.pop()\n    NS.enter(sortOrderNamespace)\n    const sortOrderName = NS.fieldName('sortOrder')\n    NS.leave()\n    const errors = settings.getErrors()\n    const hasErrors = (Array.isArray(errors) ? errors : Object.keys(errors)).length > 0\n\n    return $(`\n      <div class=\"nc_sidebar_list_item${hasErrors ? ' has-errors' : ''}\" data-neo-bt=\"container.${this.getId()}\">\n        <div class=\"label\" data-neo-bt=\"text.name\">${settings.getName()}</div>\n        <div class=\"smalltext light code\" data-neo-bt=\"text.handle\">${settings.getHandle()}</div>\n        <a class=\"move icon\" title=\"${Craft.t('neo', 'Reorder')}\" role=\"button\" data-neo-bt=\"button.move\"></a>\n        <button class=\"settings icon menubtn\" title=\"${Craft.t('neo', 'Actions')}\" role=\"button\" type=\"button\" data-neo-bt=\"button.actions\"></button>\n        <div class=\"menu\" data-neo-bt=\"container.menu\">\n          <ul class=\"padded\">\n            <li><a data-icon=\"field\" data-action=\"copy\">${Craft.t('neo', 'Copy')}</a></li>\n            <li class=\"disabled\"><a data-icon=\"brush\" data-action=\"paste\">${Craft.t('neo', 'Paste')}</a></li>\n            <li><a data-icon=\"share\" data-action=\"clone\">${Craft.t('neo', 'Clone')}</a></li>\n            <li><a class=\"error\" data-icon=\"remove\" data-action=\"delete\">${Craft.t('neo', 'Delete')}</a></li>\n          </ul>\n        </div>\n        <input type=\"hidden\" name=\"${sortOrderName}[]\" value=\"blocktype:${this.getId()}\" data-neo-gs=\"input.sortOrder\">\n      </div>`)\n  },\n\n  getId () {\n    return this.getSettings().getId()\n  },\n\n  getFieldLayout () {\n    return this._fieldLayout\n  },\n\n  /**\n   * @inheritDoc\n   */\n  load () {\n    if (this._loaded) {\n      // Already loaded\n      return Promise.resolve()\n    }\n\n    this.trigger('beforeLoad')\n    const settings = this.getSettings()\n    // Don't overwrite the field layout if it's already set (e.g. if pasting a block type)\n    const layout = this.getFieldLayout()?.getConfig() ?? settings.getFieldLayoutConfig()\n    const layoutId = settings.getFieldLayoutId()\n    const data = {\n      blockTypeId: this.getId(),\n      errors: settings.getErrors(),\n      layout\n    }\n\n    return new Promise((resolve, reject) => {\n      Craft.sendActionRequest('POST', 'neo/configurator/render-block-type', { data })\n        .then(response => {\n          if (response.data.headHtml) {\n            Craft.appendHeadHtml(response.data.headHtml)\n          }\n\n          if (response.data.bodyHtml) {\n            Craft.appendBodyHtml(response.data.bodyHtml)\n          }\n\n          this._fieldLayout = new BlockTypeFieldLayout({\n            namespace: [...this._templateNs, this._id],\n            html: response.data.layoutHtml,\n            id: layoutId,\n            blockTypeId: data.blockTypeId,\n            initJs: false\n          })\n          this._settings.createContainer({\n            html: response.data.settingsHtml.replace(/__NEOBLOCKTYPE_ID__/g, data.blockTypeId),\n            js: response.data.settingsJs.replace(/__NEOBLOCKTYPE_ID__/g, data.blockTypeId)\n          })\n          this._loaded = true\n\n          this.trigger('afterLoad')\n          resolve()\n        })\n        .catch(reject)\n    })\n  },\n\n  toggleSelect: function (select) {\n    this.base(select)\n\n    const settings = this.getSettings()\n    const fieldLayout = this.getFieldLayout()\n    const selected = this.isSelected()\n\n    if (settings?.$container ?? false) {\n      settings.$container.toggleClass('hidden', !selected)\n    }\n\n    if (fieldLayout) {\n      fieldLayout.$container.toggleClass('hidden', !selected)\n    } else if (selected) {\n      this.load()\n    }\n\n    this.$container.toggleClass('is-selected', selected)\n  },\n\n  _updateTemplate () {\n    const settings = this.getSettings()\n\n    if (settings) {\n      this.$nameText.text(settings.getName())\n      this.$handleText.text(settings.getHandle())\n      this.$container.toggleClass('is-child', !settings.getTopLevel())\n    }\n  },\n\n  '@actionSelect' (e) {\n    const $option = $(e.option)\n\n    if ($option.hasClass('disabled')) {\n      return\n    }\n\n    this._actionsMenu?.hideMenu()\n\n    switch ($option.attr('data-action')) {\n      case 'copy':\n        this.trigger('copy')\n        break\n      case 'paste':\n        this.trigger('paste')\n        break\n      case 'clone':\n        this.trigger('clone')\n        break\n      case 'delete':\n        if (window.confirm(Craft.t('neo', 'Are you sure you want to delete this block type?'))) {\n          this.getSettings().destroy()\n        }\n    }\n  }\n})\n","import $ from 'jquery'\nimport Garnish from 'garnish'\n\nexport default Garnish.Base.extend({\n\n  $container: new $(),\n\n  getFocusElement () {\n    return new $()\n  },\n\n  destroy () {\n    this.$foot?.remove()\n    this.trigger('destroy')\n  },\n\n  _refreshSetting ($container, showSetting, animate) {\n    animate = !Garnish.prefersReducedMotion() && (typeof animate === 'boolean' ? animate : true)\n\n    if (animate) {\n      if (showSetting) {\n        if ($container.hasClass('hidden')) {\n          $container\n            .removeClass('hidden')\n            .css({\n              opacity: 0,\n              marginBottom: -($container.outerHeight())\n            })\n            .velocity({\n              opacity: 1,\n              marginBottom: 24\n            }, 'fast')\n        }\n      } else if (!$container.hasClass('hidden')) {\n        $container\n          .css({\n            opacity: 1,\n            marginBottom: 24\n          })\n          .velocity({\n            opacity: 0,\n            marginBottom: -($container.outerHeight())\n          }, 'fast', () => {\n            $container.addClass('hidden')\n          })\n      }\n    } else {\n      $container\n        .toggleClass('hidden', !showSetting)\n        .css('margin-bottom', showSetting ? 24 : '')\n    }\n  }\n})\n","import Craft from 'craft'\n\n/**\n * Class for managing the selected icon for a block type.\n * @since 4.0.0\n */\nexport default class BlockTypeIconSelect {\n  /**\n   * Container for the display of the set icon.\n   * @public\n   */\n  imageContainer = null\n\n  /**\n   * Image for the display of the set icon.\n   * @public\n   */\n  image = null\n\n  /**\n   * Text (filename) for the display of the set icon.\n   * @public\n   */\n  imageText = null\n\n  /**\n   * Icons that can be selected from the menu.\n   * @public\n   */\n  menuItems = []\n\n  /**\n   * The button for setting the icon.\n   * @public\n   */\n  btnSet = null\n\n  /**\n   * The button for unsetting the icon.\n   * @public\n   */\n  btnRemove = null\n\n  /**\n   * The hidden input for the element editor form.\n   * @public\n   */\n  input = null\n\n  /**\n   * The constructor.\n   * @param container - The icon field container.\n   * @public\n   */\n  constructor (container) {\n    this.imageContainer = container.querySelector('[data-icon-select-show]')\n    this.image = this.imageContainer?.querySelector('img') ?? null\n    this.imageText = this.imageContainer?.querySelector('p') ?? null\n    this.menuItems = container.querySelectorAll('[data-icon-select-item]')\n    this.btnSet = container.querySelector('[data-icon-select-set]')\n    this.btnRemove = container.querySelector('[data-icon-select-remove]')\n    this.input = container.querySelector('input[name$=\"[iconFilename]\"]')\n\n    this.btnRemove?.addEventListener('click', (_) => this.remove())\n    this.menuItems.forEach((item) => {\n      const filename = item.querySelector('span')?.textContent\n      const url = item.querySelector('img')?.getAttribute('src')\n      item.addEventListener('click', (_) => this.set({ filename, url }))\n    })\n  }\n\n  /**\n   * Sets the selected icon.\n   * @param item - An object representing the selected icon\n   * @public\n   */\n  set (item) {\n    this.image?.setAttribute('src', item.url)\n    this.input?.setAttribute('value', item.filename)\n    this.btnRemove?.classList.remove('hidden')\n\n    if (this.imageText !== null) {\n      this.imageText.textContent = item.filename\n    }\n\n    if (this.btnSet !== null) {\n      this.btnSet.textContent = Craft.t('neo', 'Replace')\n    }\n  }\n\n  /**\n   * Unsets the icon.\n   * @public\n   */\n  remove () {\n    this.image?.setAttribute('src', '')\n    this.input?.setAttribute('value', '')\n    this.btnRemove?.classList.add('hidden')\n\n    if (this.imageText !== null) {\n      this.imageText.textContent = Craft.t('neo', 'None set')\n    }\n\n    if (this.btnSet !== null) {\n      this.btnSet.textContent = Craft.t('neo', 'Add')\n    }\n  }\n}\n","import $ from 'jquery'\nimport Craft from 'craft'\nimport Garnish from 'garnish'\nimport NS from '../namespace'\nimport Settings from './Settings'\nimport BlockTypeIconSelect from './BlockTypeIconSelect'\n\nconst _defaults = {\n  namespace: [],\n  id: null,\n  sortOrder: 0,\n  fieldLayoutId: null,\n  fieldLayoutConfig: null,\n  name: '',\n  handle: '',\n  description: '',\n  enabled: true,\n  ignorePermissions: true,\n  minBlocks: 0,\n  maxBlocks: 0,\n  minSiblingBlocks: 0,\n  maxSiblingBlocks: 0,\n  minChildBlocks: 0,\n  maxChildBlocks: 0,\n  topLevel: true,\n  childBlocks: null,\n  childBlockTypes: [],\n  html: null,\n  js: null,\n  errors: {}\n}\n\nexport default Settings.extend({\n\n  _templateNs: [],\n  _childBlockTypes: [],\n  _initialised: false,\n\n  $container: null,\n  $nameInput: new $(),\n  $handleInput: new $(),\n  $descriptionInput: new $(),\n  $minBlocksInput: new $(),\n  $maxBlocksInput: new $(),\n  $minSiblingBlocksInput: new $(),\n  $maxSiblingBlocksInput: new $(),\n  $minChildBlocksInput: new $(),\n  $maxChildBlocksInput: new $(),\n  $iconContainer: new $(),\n\n  init (settings = {}) {\n    settings = Object.assign({}, _defaults, settings)\n\n    this._templateNs = NS.parse(settings.namespace)\n    this._childBlockTypes = []\n    this._childBlocks = settings.childBlocks\n    this._id = settings.id\n    this._fieldLayoutId = settings.fieldLayoutId\n    this._fieldLayoutConfig = settings.fieldLayoutConfig\n    this._errors = settings.errors\n    this._settingsChildBlockTypes = settings.childBlockTypes\n    this._originalSettings = settings\n    this._iconSelector = null\n    this._afterCreateContainer = () => {\n      this.setName(settings.name)\n      this.setHandle(settings.handle)\n      this.setDescription(settings.description)\n      this._setIconId(settings.iconId)\n      this.setEnabled(settings.enabled)\n      this.setIgnorePermissions(settings.ignorePermissions)\n      this.setMinBlocks(settings.minBlocks)\n      this.setMaxBlocks(settings.maxBlocks)\n      this.setMinSiblingBlocks(settings.minSiblingBlocks)\n      this.setMaxSiblingBlocks(settings.maxSiblingBlocks)\n      this.setMinChildBlocks(settings.minChildBlocks)\n      this.setMaxChildBlocks(settings.maxChildBlocks)\n      this.setTopLevel(settings.topLevel)\n\n      if (this.$iconContainer.length > 0) {\n        this._iconSelector = new BlockTypeIconSelect(this.$iconContainer[0])\n      }\n    }\n\n    if (typeof settings.html !== 'undefined' && settings.html !== null) {\n      this.createContainer({\n        html: settings.html,\n        js: settings.js\n      })\n    }\n  },\n\n  createContainer (containerData) {\n    // Only create it if it doesn't already exist\n    if (this.$container !== null) {\n      return\n    }\n\n    this.$container = $(containerData.html)\n    this._js = containerData.js ?? ''\n\n    const $neo = this.$container.find('[data-neo-bts]')\n    this.$nameInput = $neo.filter('[data-neo-bts=\"input.name\"]')\n    this.$handleInput = $neo.filter('[data-neo-bts=\"input.handle\"]')\n    this.$descriptionInput = $neo.filter('[data-neo-bts=\"input.description\"]')\n    this.$iconContainer = $neo.filter('[data-neo-bts=\"container.iconFilename\"]')\n    this.$iconIdContainer = $neo.filter('[data-neo-bts=\"container.iconId\"]')\n    this.$enabledInput = $neo.filter('[data-neo-bts=\"input.enabled\"]')\n    this.$enabledContainer = $neo.filter('[data-neo-bts=\"container.enabled\"]')\n    this.$ignorePermissionsInput = $neo.filter('[data-neo-bts=\"input.ignorePermissions\"]')\n    this.$ignorePermissionsContainer = $neo.filter('[data-neo-bts=\"container.ignorePermissions\"]')\n    this.$minBlocksInput = $neo.filter('[data-neo-bts=\"input.minBlocks\"]')\n    this.$maxBlocksInput = $neo.filter('[data-neo-bts=\"input.maxBlocks\"]')\n    this.$minSiblingBlocksInput = $neo.filter('[data-neo-bts=\"input.minSiblingBlocks\"]')\n    this.$maxSiblingBlocksInput = $neo.filter('[data-neo-bts=\"input.maxSiblingBlocks\"]')\n    this.$minChildBlocksInput = $neo.filter('[data-neo-bts=\"input.minChildBlocks\"]')\n    this.$minChildBlocksContainer = $neo.filter('[data-neo-bts=\"container.minChildBlocks\"]')\n    this.$maxChildBlocksInput = $neo.filter('[data-neo-bts=\"input.maxChildBlocks\"]')\n    this.$maxChildBlocksContainer = $neo.filter('[data-neo-bts=\"container.maxChildBlocks\"]')\n    this.$topLevelInput = $neo.filter('[data-neo-bts=\"input.topLevel\"]')\n    this.$topLevelContainer = $neo.filter('[data-neo-bts=\"container.topLevel\"]')\n    this.$groupChildBlockTypesInput = $neo.filter('[data-neo-bts=\"input.groupChildBlockTypes\"]')\n    this.$groupChildBlockTypesContainer = $neo.filter('[data-neo-bts=\"container.groupChildBlockTypes\"]')\n    this.$childBlocksInput = $neo.filter('[data-neo-bts=\"input.childBlocks\"]')\n    this.$childBlocksContainer = $neo.filter('[data-neo-bts=\"container.childBlocks\"]')\n    this.$deleteButton = $neo.filter('[data-neo-bts=\"button.delete\"]')\n\n    this._afterCreateContainer()\n  },\n\n  initUi () {\n    // Exit if UI already initialised, or there is no UI to initialise yet\n    if (this._initialised || this.$container === null) {\n      return\n    }\n\n    this.$foot = $(this._js)\n    Garnish.$bod.append(this.$foot)\n\n    Craft.initUiElements(this.$container)\n\n    this._childBlocksSelect = this.$childBlocksInput.data('checkboxSelect')\n    this._enabledLightswitch = this.$enabledInput.data('lightswitch')\n    this._ignorePermissionsLightswitch = this.$ignorePermissionsInput.data('lightswitch')\n    this._topLevelLightswitch = this.$topLevelInput.data('lightswitch')\n    this._groupChildBlockTypesLightswitch = this.$groupChildBlockTypesInput.data('lightswitch')\n    this._handleGenerator = new Craft.HandleGenerator(this.$nameInput, this.$handleInput)\n\n    // Ensure that an existing block type's handle will not be changed if the name is edited first.\n    if (this.getHandle() !== '') {\n      this._handleGenerator.stopListening()\n    }\n\n    for (const blockType of this._settingsChildBlockTypes) {\n      this.addChildBlockType(blockType)\n    }\n\n    this.setChildBlocks(this._childBlocks)\n\n    this.addListener(this.$nameInput, 'keyup change', () => {\n      this.setName(this.$nameInput.val())\n\n      if (this._handleGenerator.listening) {\n        // Wait for the handle to be auto-updated\n        setTimeout(() => this.setHandle(this.$handleInput.val()), 200)\n      }\n    })\n\n    this.addListener(this.$handleInput, 'keyup change textchange', () => this.setHandle(this.$handleInput.val()))\n    this.addListener(this.$descriptionInput, 'keyup change textchange', () => this.setDescription(this.$descriptionInput.val()))\n    this.addListener(this.$iconIdContainer, 'change', () => {\n      setTimeout(\n        () => {\n          const $iconIdInput = this.$iconIdInput\n          const iconId = $iconIdInput.length > 0 ? $iconIdInput.val() : null\n          this._setIconId(iconId)\n        },\n        500\n      )\n    })\n    this.addListener(this._enabledLightswitch, 'change', () => this.setEnabled(this._enabledLightswitch.on))\n    this.addListener(this._ignorePermissionsLightswitch, 'change', () => this.setIgnorePermissions(this._ignorePermissionsLightswitch.on))\n    this.addListener(this.$minBlocksInput, 'keyup change', () => this.setMinBlocks(this.$minBlocksInput.val()))\n    this.addListener(this.$maxBlocksInput, 'keyup change', () => this.setMaxBlocks(this.$maxBlocksInput.val()))\n    this.addListener(this.$minSiblingBlocksInput, 'keyup change', () => this.setMinSiblingBlocks(this.$minSiblingBlocksInput.val()))\n    this.addListener(this.$maxSiblingBlocksInput, 'keyup change', () => this.setMaxSiblingBlocks(this.$maxSiblingBlocksInput.val()))\n    this.addListener(this.$minChildBlocksInput, 'keyup change', () => this.setMinChildBlocks(this.$minChildBlocksInput.val()))\n    this.addListener(this.$maxChildBlocksInput, 'keyup change', () => this.setMaxChildBlocks(this.$maxChildBlocksInput.val()))\n    this.addListener(this.$topLevelInput, 'change', () => this.setTopLevel(this._topLevelLightswitch.on))\n    this.addListener(this.$groupChildBlockTypesInput, 'change', () => this.setTopLevel(this._groupChildBlockTypesLightswitch.on))\n    this.addListener(this.$deleteButton, 'click', () => {\n      if (window.confirm(Craft.t('neo', 'Are you sure you want to delete this block type?'))) {\n        this.destroy()\n      }\n    })\n\n    this.$childBlocksInput.on('change', 'input', () => this._refreshChildBlockSettings())\n\n    this._initialised = true\n  },\n\n  _generateChildBlocksCheckbox (settings) {\n    NS.enter(this._templateNs)\n    const id = NS.value('childBlock-' + settings.getId(), '-')\n    const name = NS.fieldName('childBlocks')\n    NS.leave()\n\n    return $(`\n      <div data-neo-btsc=\"container.${settings.getId()}\">\n        <input type=\"checkbox\" value=\"${settings.getHandle()}\" id=\"${id}\" class=\"checkbox\" name=\"${name}[]\" data-neo-btsc=\"input.${settings.getId()}\">\n        <label for=\"${id}\" data-neo-btsc=\"text.label\">${settings.getName()}</label>\n      </div>`)\n  },\n\n  get $iconIdInput () {\n    return this.$iconIdContainer.find('input[type=\"hidden\"]')\n  },\n\n  getFocusInput () {\n    return this.$nameInput\n  },\n\n  getId () {\n    return this._id\n  },\n\n  getFieldLayoutId () {\n    return this._fieldLayoutId\n  },\n\n  getFieldLayoutConfig () {\n    return Object.assign({}, this._fieldLayoutConfig)\n  },\n\n  isNew () {\n    return /^new/.test(this.getId())\n  },\n\n  getErrors () {\n    return this._errors\n  },\n\n  getName () { return this._name ?? this._originalSettings.name },\n  setName (name) {\n    if (name !== this._name) {\n      const oldName = this._name\n      this._name = name\n\n      if (this.$nameInput.val() !== this._name) {\n        this.$nameInput.val(this._name)\n      }\n\n      this.trigger('change', {\n        property: 'name',\n        oldValue: oldName,\n        newValue: this._name\n      })\n    }\n  },\n\n  getHandle () { return this._handle ?? this._originalSettings.handle },\n  setHandle (handle) {\n    if (handle !== this._handle) {\n      const oldHandle = this._handle\n      this._handle = handle\n\n      if (this.$handleInput.val() !== this._handle) {\n        this.$handleInput.val(this._handle)\n      }\n\n      this.trigger('change', {\n        property: 'handle',\n        oldValue: oldHandle,\n        newValue: this._handle\n      })\n    }\n  },\n\n  getDescription () { return this._description },\n  setDescription (description) {\n    if (description !== this._description) {\n      const oldDescription = this._description\n      this._description = description\n\n      if (this.$descriptionInput.val() !== this._description) {\n        this.$descriptionInput.val(this._description)\n      }\n\n      this.trigger('change', {\n        property: 'description',\n        oldValue: oldDescription,\n        newValue: this._description\n      })\n    }\n  },\n\n  getIconId () { return this._iconId },\n  _setIconId (iconId) {\n    if (iconId !== this._iconId) {\n      const oldIconId = this._iconId\n      this._iconId = iconId\n\n      if (this.$iconIdInput.val() !== this._iconId) {\n        // TODO\n        // This is normally where we would reset the input value, but since the icon ID setting is an asset field, we\n        // would also need to update the element HTML. This would be good to implement in the future, and then this\n        // method could be made public.\n      }\n\n      this.trigger('change', {\n        property: 'iconId',\n        oldValue: oldIconId,\n        newValue: this._iconId\n      })\n    }\n  },\n\n  getEnabled () { return this._enabled },\n  setEnabled (enabled) { this._setLightswitchField('enabled', enabled) },\n\n  getIgnorePermissions () { return this._ignorePermissions },\n  setIgnorePermissions (ignore) { this._setLightswitchField('ignorePermissions', ignore) },\n\n  getMinBlocks () { return this._minBlocks },\n  setMinBlocks (minBlocks) { this._setBlocksConstraint('minBlocks', minBlocks) },\n\n  getMaxBlocks () { return this._maxBlocks },\n  setMaxBlocks (maxBlocks) { this._setBlocksConstraint('maxBlocks', maxBlocks) },\n\n  getMinSiblingBlocks () { return this._minSiblingBlocks },\n  setMinSiblingBlocks (minSiblingBlocks) { this._setBlocksConstraint('minSiblingBlocks', minSiblingBlocks) },\n\n  getMaxSiblingBlocks () { return this._maxSiblingBlocks },\n  setMaxSiblingBlocks (maxSiblingBlocks) { this._setBlocksConstraint('maxSiblingBlocks', maxSiblingBlocks) },\n\n  getMinChildBlocks () { return this._minChildBlocks },\n  getMaxChildBlocks () { return this._maxChildBlocks },\n  setMinChildBlocks (minChildBlocks) { this._setBlocksConstraint('minChildBlocks', minChildBlocks) },\n  setMaxChildBlocks (maxChildBlocks) { this._setBlocksConstraint('maxChildBlocks', maxChildBlocks) },\n  _setBlocksConstraint (mode, value) {\n    const privateProp = `_${mode}`\n    const jqueryProp = `$${mode}Input`\n    const oldValue = this[privateProp]\n    const newValue = Math.max(0, value | 0)\n\n    if (newValue === 0) {\n      this[jqueryProp].val(null)\n    }\n\n    if (oldValue !== newValue) {\n      this[privateProp] = newValue\n\n      if (this[privateProp] > 0 && parseInt(this[jqueryProp].val()) !== this[privateProp]) {\n        this[jqueryProp].val(this[privateProp])\n      }\n\n      this.trigger('change', {\n        property: mode,\n        oldValue,\n        newValue: this[privateProp]\n      })\n    }\n  },\n\n  getTopLevel () { return this._topLevel ?? this._originalSettings.topLevel },\n  setTopLevel (topLevel) { this._setLightswitchField('topLevel', topLevel) },\n\n  _setLightswitchField (property, value) {\n    const privateProp = `_${property}`\n    const lightswitchProp = `${privateProp}Lightswitch`\n    const oldValue = this[privateProp]\n    const newValue = !!value\n\n    if (oldValue !== newValue) {\n      this[privateProp] = newValue\n\n      if (this[lightswitchProp] && this[lightswitchProp].on !== this[privateProp]) {\n        this[lightswitchProp].on = this[privateProp]\n        this[lightswitchProp].toggle()\n      }\n\n      this.trigger('change', {\n        property,\n        oldValue,\n        newValue\n      })\n    }\n  },\n\n  getChildBlocks () {\n    const select = this._childBlocksSelect\n    const childBlocks = []\n\n    if (typeof select === 'undefined') {\n      return this._childBlocks === true ? true : Array.from(this._childBlocks ?? [])\n    }\n\n    if (select.$all.prop('checked')) {\n      return true\n    }\n\n    select.$options.each(function (index) {\n      const $option = $(this)\n\n      if ($option.prop('checked')) {\n        childBlocks.push($option.val())\n      }\n    })\n\n    return childBlocks.length > 0 ? childBlocks : false\n  },\n\n  setChildBlocks (childBlocks) {\n    if (typeof childBlocks === 'undefined') {\n      childBlocks = this._childBlocks\n    }\n\n    const select = this._childBlocksSelect\n\n    if (childBlocks === true || childBlocks === '*') {\n      select.$all.prop('checked', true)\n      select.onAllChange()\n    } else if (Array.isArray(childBlocks)) {\n      select.$all.prop('checked', false)\n\n      for (const handle of childBlocks) {\n        select.$options.filter(`[value=\"${handle}\"]`).prop('checked', true)\n      }\n    } else {\n      select.$all.prop('checked', false)\n      select.$options.prop('checked', false)\n    }\n\n    this._refreshChildBlockSettings(false)\n  },\n\n  addChildBlockType (blockType) {\n    if (!this._childBlockTypes.includes(blockType)) {\n      const settings = blockType.getSettings()\n      const $existingCheckbox = this.$childBlocksContainer.find(`[data-neo-btsc=\"input.${settings.getId()}\"]`)\n      const $checkbox = $existingCheckbox.length > 0\n        ? $existingCheckbox\n        : this._generateChildBlocksCheckbox(settings)\n\n      this._childBlockTypes.push(blockType)\n\n      if ($existingCheckbox.length === 0) {\n        this.$childBlocksContainer.append($checkbox)\n        this._refreshChildBlockType(blockType)\n      }\n\n      const select = this._childBlocksSelect\n      const allChecked = select.$all.prop('checked')\n      select.$options = select.$options.add($checkbox.find('input'))\n      if (allChecked) select.onAllChange()\n\n      const eventNs = '.childBlock' + this.getId()\n      settings.on('change' + eventNs, e => this['@onChildBlockTypeChange'](e, blockType, $checkbox))\n      settings.on('destroy' + eventNs, e => this.removeChildBlockType(blockType))\n    }\n  },\n\n  removeChildBlockType (blockType) {\n    const index = this._childBlockTypes.indexOf(blockType)\n    if (index >= 0) {\n      this._childBlockTypes.splice(index, 1)\n\n      const settings = blockType.getSettings()\n      const $checkbox = this.$childBlocksContainer.children().eq(index)\n\n      $checkbox.remove()\n\n      const select = this._childBlocksSelect\n      select.$options = select.$options.remove($checkbox.find('input'))\n\n      const eventNs = '.childBlock' + this.getId()\n      settings.off(eventNs)\n\n      this._refreshChildBlockType(blockType)\n    }\n  },\n\n  getConditions () {\n    NS.enter(this._templateNs)\n    const baseInputName = NS.toFieldName().replaceAll('\\\\', '\\\\\\\\')\n    NS.leave()\n    const baseConditionInputNameWithExtraSlash = `${baseInputName}[conditions]`\n    const baseConditionInputName = baseConditionInputNameWithExtraSlash.replaceAll('\\\\\\\\', '\\\\')\n    const conditionInputNames = this.$container\n      .find(`[name^=\"${baseConditionInputNameWithExtraSlash}\"]`)\n      .get()\n      .map((condition) => condition.name)\n\n    const allFormData = new window.FormData(this.$container.closest('form').get(0))\n    const conditionsData = {}\n\n    conditionInputNames.forEach((conditionInputName) => {\n      let conditionsSubData = conditionsData\n      const conditionsCurrentPath = [baseConditionInputName]\n      const conditionsDataPath = conditionInputName\n        .replace(baseConditionInputName, '')\n        .slice(1, -1)\n        .split('][')\n\n      conditionsDataPath.forEach((pathStep, i) => {\n        conditionsCurrentPath.push(`[${pathStep}]`)\n\n        if (pathStep !== '' && !(pathStep in conditionsSubData)) {\n          if (pathStep === 'values') {\n            conditionsSubData[pathStep] = []\n          } else if (i < conditionsDataPath.length - 1) {\n            conditionsSubData[pathStep] = {}\n          } else {\n            conditionsSubData[pathStep] = allFormData.get(conditionsCurrentPath.join(''))\n          }\n        } else if (pathStep === '') {\n          conditionsSubData.push(...allFormData.getAll(conditionsCurrentPath.join('')))\n        }\n\n        conditionsSubData = conditionsSubData[pathStep]\n      })\n    })\n\n    return conditionsData\n  },\n\n  /**\n   * @since 3.8.0\n   */\n  refreshChildBlockTypes (childBlockTypes) {\n    if (childBlockTypes) {\n      this._childBlockTypes = childBlockTypes\n    }\n\n    this._childBlockTypes.forEach((childBlockType) => this._refreshChildBlockType(childBlockType))\n  },\n\n  _refreshChildBlockType (blockType) {\n    const $sidebarContainer = blockType.getField().$sidebarContainer\n    const $sidebarItem = $sidebarContainer.find(`[data-neo-bt=\"container.${blockType.getId()}\"]`)\n    let $refreshedBlockType = this.$childBlocksContainer.children(`[data-neo-btsc=\"container.${blockType.getId()}\"]`)\n\n    if ($refreshedBlockType.length === 0) {\n      // New block type, create checkbox\n      $refreshedBlockType = this._generateChildBlocksCheckbox(blockType.getSettings())\n    }\n\n    if ($sidebarItem.length > 0) {\n      // Block type reordered\n      const position = $sidebarItem.index('.nc_sidebar_list_item:not(.type-heading)')\n      const $currentChildBlockTypeAtPos = this.$childBlocksContainer.children().eq(position)\n\n      if ($currentChildBlockTypeAtPos.length > 0) {\n        $refreshedBlockType.insertBefore($currentChildBlockTypeAtPos)\n      } else {\n        // Added to the end\n        $refreshedBlockType.appendTo(this.$childBlocksContainer)\n      }\n    } else {\n      // Block type deleted\n      $refreshedBlockType.remove()\n    }\n  },\n\n  _refreshChildBlockSettings (animate) {\n    const showSettings = !!this.getChildBlocks()\n    this._refreshSetting(this.$minChildBlocksContainer, showSettings, animate)\n    this._refreshSetting(this.$maxChildBlocksContainer, showSettings, animate)\n    this._refreshSetting(this.$groupChildBlockTypesContainer, showSettings, animate)\n  },\n\n  '@onChildBlockTypeChange' (e, blockType, $checkbox) {\n    const $neo = $checkbox.find('[data-neo-btsc]')\n    const $input = $neo.filter(`[data-neo-btsc=\"input.${blockType.getSettings().getId()}\"]`)\n    const $labelText = $neo.filter('[data-neo-btsc=\"text.label\"]')\n\n    switch (e.property) {\n      case 'name':\n        $labelText.text(e.newValue)\n        break\n\n      case 'handle':\n        $input.val(e.newValue)\n        break\n    }\n  }\n},\n{\n  _totalNewBlockTypes: 0,\n\n  getNewId () {\n    return `new${this._totalNewBlockTypes++}`\n  }\n})\n","import $ from 'jquery'\nimport Craft from 'craft'\nimport Item from './Item'\nimport NS from '../namespace'\n\nconst _defaults = {\n  namespace: []\n}\n\nexport default Item.extend({\n\n  _templateNs: [],\n\n  init (settings = {}) {\n    this.base(settings)\n\n    settings = Object.assign({}, _defaults, settings)\n\n    const settingsObj = this.getSettings()\n    this._templateNs = NS.parse(settings.namespace)\n    const sidebarItem = this.getField()?.$sidebarContainer.find(`[data-neo-g=\"container.${this.getId()}`)\n\n    if (sidebarItem?.length > 0) {\n      this.$container = sidebarItem\n    } else {\n      this.$container = this._generateGroup(settingsObj)\n    }\n\n    const $neo = this.$container.find('[data-neo-g]')\n    this.$nameText = $neo.filter('[data-neo-g=\"text.name\"]')\n    this.$moveButton = $neo.filter('[data-neo-g=\"button.move\"]')\n\n    if (settingsObj) {\n      settingsObj.on('change', () => this._updateTemplate())\n      settingsObj.on('destroy', () => this.trigger('destroy'))\n    }\n\n    this.deselect()\n  },\n\n  _generateGroup (settings) {\n    const sortOrderNamespace = [...this._templateNs]\n    sortOrderNamespace.pop()\n    NS.enter(sortOrderNamespace)\n    const sortOrderName = NS.fieldName('sortOrder')\n    NS.leave()\n\n    return $(`\n      <div class=\"nc_sidebar_list_item type-heading\" data-neo-g=\"container.${this.getId()}\">\n        <div class=\"label\" data-neo-g=\"text.name\">${settings.getName() ?? ''}</div>\n        <a class=\"move icon\" title=\"${Craft.t('neo', 'Reorder')}\" role=\"button\" data-neo-g=\"button.move\"></a>\n        <input type=\"hidden\" name=\"${sortOrderName}[]\" value=\"group:${this.getId()}\" data-neo-g=\"input.sortOrder\">\n      </div>`)\n  },\n\n  /**\n   * @inheritDoc\n   */\n  load () {\n    if (this._loaded) {\n      // Already loaded\n      return Promise.resolve()\n    }\n\n    this.trigger('beforeLoad')\n    const data = {\n      groupId: this.getId()\n    }\n\n    return new Promise((resolve, reject) => {\n      Craft.sendActionRequest('POST', 'neo/configurator/render-block-type-group', { data })\n        .then(response => {\n          this.getSettings().createContainer({\n            html: response.data.settingsHtml.replace(/__NEOBLOCKTYPEGROUP_ID__/g, data.groupId),\n            js: response.data.settingsJs.replace(/__NEOBLOCKTYPEGROUP_ID__/g, data.groupId)\n          })\n          this._loaded = true\n\n          this.trigger('afterLoad')\n          resolve()\n        })\n        .catch(reject)\n    })\n  },\n\n  getId () {\n    return this.getSettings().getId()\n  },\n\n  toggleSelect: function (select) {\n    this.base(select)\n\n    const settings = this.getSettings()\n    const selected = this.isSelected()\n\n    if (settings?.$container ?? false) {\n      settings.$container.toggleClass('hidden', !selected)\n    }\n\n    if (selected) {\n      this.load()\n    }\n\n    this.$container.toggleClass('is-selected', selected)\n  },\n\n  _updateTemplate () {\n    const settings = this.getSettings()\n\n    if (settings) {\n      this.$nameText.text(settings.getName())\n    }\n  }\n})\n","import $ from 'jquery'\nimport Craft from 'craft'\nimport NS from '../namespace'\nimport Settings from './Settings'\n\nconst _defaults = {\n  namespace: [],\n  id: null,\n  sortOrder: 0,\n  name: '',\n  alwaysShowDropdown: null,\n  defaultAlwaysShowGroupDropdowns: true\n}\n\nexport default Settings.extend({\n\n  _templateNs: [],\n\n  $container: null,\n  $sortOrderInput: new $(),\n  $nameInput: new $(),\n  $handleInput: new $(),\n  $maxBlocksInput: new $(),\n\n  init (settings = {}) {\n    settings = Object.assign({}, _defaults, settings)\n\n    this._templateNs = NS.parse(settings.namespace)\n    this._id = settings.id\n    this._alwaysShowDropdown = settings.alwaysShowDropdown\n    this._defaultAlwaysShowGroupDropdowns = settings.defaultAlwaysShowGroupDropdowns\n    this._originalSettings = settings\n\n    if (typeof settings.html !== 'undefined' && settings.html !== null) {\n      this.createContainer({\n        html: settings.html,\n        js: settings.js\n      })\n    }\n  },\n\n  createContainer (containerData) {\n    // Only create it if it doesn't already exist\n    if (this.$container !== null) {\n      return\n    }\n\n    this.$container = $(containerData.html)\n    this._js = containerData.js ?? ''\n\n    const $neo = this.$container.find('[data-neo-gs]')\n    this.$nameInput = $neo.filter('[data-neo-gs=\"input.name\"]')\n    this.$deleteButton = $neo.filter('[data-neo-gs=\"button.delete\"]')\n    this.$alwaysShowDropdownContainer = $neo.filter('[data-neo-gs=\"container.alwaysShowDropdown\"]')\n\n    this.setName(this._originalSettings.name)\n\n    this.addListener(this.$nameInput, 'keyup change', () => this.setName(this.$nameInput.val()))\n    this.addListener(this.$deleteButton, 'click', () => {\n      if (window.confirm(Craft.t('neo', 'Are you sure you want to delete this group?'))) {\n        this.destroy()\n      }\n    })\n  },\n\n  getFocusInput () {\n    return this.$nameInput\n  },\n\n  getId () {\n    return this._id\n  },\n\n  getName () { return this._name ?? this._originalSettings.name },\n  setName (name) {\n    if (name !== this._name) {\n      const oldName = this._name\n      this._name = name\n\n      this.$nameInput.val(this._name)\n      this._refreshAlwaysShowDropdown()\n\n      this.trigger('change', {\n        property: 'name',\n        oldValue: oldName,\n        newValue: this._name\n      })\n    }\n  },\n\n  getAlwaysShowDropdown () { return this._alwaysShowDropdown ?? this._originalSettings.alwaysShowDropdown },\n\n  _refreshAlwaysShowDropdown (animate) {\n    this._refreshSetting(this.$alwaysShowDropdownContainer, !!this._name, animate)\n  }\n},\n{\n  _totalNewGroups: 0,\n\n  getNewId () {\n    return `new${this._totalNewGroups++}`\n  }\n})\n","import $ from 'jquery'\nimport '../jquery-extensions'\n\nimport Garnish from 'garnish'\nimport Craft from 'craft'\nimport { v4 as uuidv4 } from 'uuid'\nimport NS from '../namespace'\n\nimport BlockType from './BlockType'\nimport BlockTypeSettings from './BlockTypeSettings'\nimport BlockTypeFieldLayout from './BlockTypeFieldLayout'\nimport Group from './Group'\nimport GroupSettings from './GroupSettings'\nimport './styles/configurator.scss'\n\nconst _defaults = {\n  namespace: [],\n  blockTypes: [],\n  groups: [],\n  blockTypeSettingsHtml: '',\n  blockTypeSettingsJs: '',\n  fieldLayoutHtml: '',\n  groupSettingsHtml: ''\n}\n\nexport default Garnish.Base.extend({\n\n  _templateNs: [],\n  _items: [],\n\n  init (settings = {}) {\n    settings = Object.assign({}, _defaults, settings)\n\n    const inputIdPrefix = Craft.formatInputId(settings.namespace)\n    const $field = $(`#${inputIdPrefix}-neo-configurator`)\n    this.$container = $field.children('.field').children('.input')\n\n    this._templateNs = NS.parse(settings.namespace)\n    this._blockTypeSettingsHtml = settings.blockTypeSettingsHtml\n    this._blockTypeSettingsJs = settings.blockTypeSettingsJs\n    this._fieldLayoutHtml = settings.fieldLayoutHtml\n    this._blockTypeGroupSettingsHtml = settings.blockTypeGroupSettingsHtml\n    this._items = []\n\n    const $neo = this.$container.find('[data-neo]')\n    this.$mainContainer = $neo.filter('[data-neo=\"container.main\"]')\n    this.$sidebarContainer = $neo.filter('[data-neo=\"container.sidebar\"]')\n    this.$blockTypesContainer = $neo.filter('[data-neo=\"container.blockTypes\"]')\n    this.$settingsContainer = $neo.filter('[data-neo=\"container.settings\"]')\n    this.$fieldLayoutContainer = $neo.filter('[data-neo=\"container.fieldLayout\"]')\n    this.$blockTypeButton = $neo.filter('[data-neo=\"button.blockType\"]')\n    this.$groupButton = $neo.filter('[data-neo=\"button.group\"]')\n    this.$settingsButton = $neo.filter('[data-neo=\"button.settings\"]')\n    this.$fieldLayoutButton = $neo.filter('[data-neo=\"button.fieldLayout\"]')\n\n    this._itemSort = new Garnish.DragSort(null, {\n      container: this.$blockTypesContainer,\n      handle: '[data-neo-bt=\"button.move\"], [data-neo-g=\"button.move\"]',\n      axis: 'y',\n      onSortChange: () => this._updateItemOrder()\n    })\n\n    // Add the existing block types and groups\n    const existingItems = []\n    const btNamespace = [...this._templateNs, 'items', 'blockTypes']\n    const gNamespace = [...this._templateNs, 'items', 'groups']\n\n    for (const btInfo of settings.blockTypes) {\n      const btSettings = new BlockTypeSettings({\n        namespace: [...btNamespace, btInfo.id],\n        sortOrder: btInfo.sortOrder,\n        id: btInfo.id,\n        name: btInfo.name,\n        handle: btInfo.handle,\n        description: btInfo.description,\n        iconId: btInfo.iconId,\n        enabled: btInfo.enabled,\n        ignorePermissions: btInfo.ignorePermissions,\n        minBlocks: btInfo.minBlocks,\n        maxBlocks: btInfo.maxBlocks,\n        minSiblingBlocks: btInfo.minSiblingBlocks,\n        maxSiblingBlocks: btInfo.maxSiblingBlocks,\n        minChildBlocks: btInfo.minChildBlocks,\n        maxChildBlocks: btInfo.maxChildBlocks,\n        topLevel: btInfo.topLevel,\n        html: btInfo.settingsHtml,\n        js: btInfo.settingsJs,\n        errors: btInfo.errors,\n        fieldLayoutId: btInfo.fieldLayoutId,\n        fieldLayoutConfig: btInfo.fieldLayoutConfig,\n        childBlocks: btInfo.childBlocks,\n        childBlockTypes: existingItems.filter(item => item instanceof BlockType)\n      })\n\n      const blockType = new BlockType({\n        namespace: btNamespace,\n        field: this,\n        settings: btSettings\n      })\n\n      blockType.on('copy.configurator', () => this._copyBlockType(blockType))\n      blockType.on('paste.configurator', () => this._pasteBlockType())\n      blockType.on('clone.configurator', () => this._createBlockTypeFrom(blockType))\n      blockType.on('beforeLoad.configurator', () => {\n        this.$fieldLayoutContainer.append(\n          $('<span class=\"spinner\"/></span>')\n        )\n        this.$settingsContainer.append(\n          $('<span class=\"spinner\"/></span>')\n        )\n      })\n      blockType.on('afterLoad.configurator', () => {\n        this.$fieldLayoutContainer.children('.spinner').remove()\n        this.$settingsContainer.children('.spinner').remove()\n        this.addItem(blockType)\n        blockType.getFieldLayout()?.initJs()\n        const blockTypeSettings = blockType.getSettings()\n        blockTypeSettings?.refreshChildBlockTypes(this.getBlockTypes())\n        blockTypeSettings?.setChildBlocks()\n      })\n      existingItems.push(blockType)\n    }\n\n    for (const gInfo of settings.groups) {\n      const gSettings = new GroupSettings({\n        namespace: [...gNamespace, gInfo.id],\n        sortOrder: gInfo.sortOrder,\n        id: gInfo.id,\n        name: gInfo.name,\n        alwaysShowDropdown: gInfo.alwaysShowDropdown,\n        defaultAlwaysShowGroupDropdowns: settings.defaultAlwaysShowGroupDropdowns\n      })\n\n      const group = new Group({\n        namespace: gNamespace,\n        field: this,\n        settings: gSettings\n      })\n\n      group.on('beforeLoad.configurator', () => this.$settingsContainer.append(\n        $('<span class=\"spinner\"/></span>')\n      ))\n      group.on('afterLoad.configurator', () => {\n        this.$settingsContainer.children('.spinner').remove()\n        this.addItem(group)\n      })\n      existingItems.push(group)\n    }\n\n    for (const item of existingItems.sort((a, b) => a.getSortOrder() - b.getSortOrder())) {\n      this.addItem(item)\n    }\n\n    for (const blockType of this.getBlockTypes()) {\n      const btSettings = blockType.getSettings()\n\n      if (btSettings?.$container) {\n        const info = settings.blockTypes.find(i => i.handle === btSettings.getHandle())\n        btSettings.setChildBlocks(info.childBlocks)\n      }\n    }\n\n    // Make sure menu states (for pasting block types) are updated when changing tabs\n    const refreshPasteOptions = () => {\n      const noPasteData = !window.localStorage.getItem('neo:copyBlockType')\n\n      for (const blockType of this.getBlockTypes()) {\n        blockType.$actionsMenu.find('[data-action=\"paste\"]').parent().toggleClass('disabled', noPasteData)\n      }\n    }\n\n    refreshPasteOptions()\n    this.addListener(document, 'visibilitychange.configurator', refreshPasteOptions)\n\n    this.selectTab('settings')\n\n    this.addListener(this.$blockTypeButton, 'click', '@newBlockType')\n    this.addListener(this.$groupButton, 'click', '@newGroup')\n    this.addListener(this.$settingsButton, 'click', () => this.selectTab('settings'))\n    this.addListener(this.$fieldLayoutButton, 'click', () => this.selectTab('fieldLayout'))\n  },\n\n  addItem (item, index = -1) {\n    const settings = item.getSettings()\n\n    if (!document.contains(item.$container[0])) {\n      this._insertAt(item.$container, index)\n    }\n\n    if (this._itemSort.$items.filter(item.$container).length === 0) {\n      this._itemSort.addItems(item.$container)\n    }\n\n    if (settings?.$container) {\n      this.$settingsContainer.append(settings.$container)\n\n      if (item instanceof BlockType) {\n        settings.initUi()\n      }\n    }\n\n    this.$mainContainer.removeClass('hidden')\n\n    this.addListener(item.$container, 'click', '@selectItem')\n    item.on('destroy.configurator', () => this.removeItem(item, false))\n\n    if (item instanceof BlockType) {\n      this._addFieldLayout(item.getFieldLayout())\n    }\n\n    this._items.push(item)\n\n    // Only bother updating the item order if the item wasn't just being appended\n    if (index >= 0 && index < this._items.length - 1) {\n      this._updateItemOrder()\n    }\n\n    if (item instanceof BlockType) {\n      for (const blockType of this.getBlockTypes()) {\n        const btSettings = blockType.getSettings()\n        if (btSettings?.$container) {\n          btSettings.addChildBlockType(item)\n        }\n      }\n    }\n\n    this.trigger('addItem', {\n      item,\n      index\n    })\n  },\n\n  _addFieldLayout (fieldLayout) {\n    if (fieldLayout) {\n      this.$fieldLayoutContainer.append(fieldLayout.$container)\n    }\n  },\n\n  removeItem (item, showConfirm) {\n    showConfirm = (typeof showConfirm === 'boolean' ? showConfirm : false)\n\n    if (showConfirm) {\n      const message = Craft.t('neo', 'Are you sure you want to delete this {type}?', {\n        type:\n        item instanceof BlockType\n          ? 'block type'\n          : item instanceof Group\n            ? 'group'\n            : 'item'\n      })\n\n      if (window.confirm(message)) {\n        this.removeItem(item, false)\n      }\n    } else {\n      const settings = item.getSettings()\n\n      this._itemSort.removeItems(item.$container)\n\n      item.$container.remove()\n\n      if (settings?.$container) {\n        settings.$container.remove()\n      }\n\n      if (item instanceof BlockType) {\n        const fieldLayout = item.getFieldLayout()\n        if (fieldLayout) fieldLayout.$container.remove()\n      }\n\n      this.removeListener(item.$container, 'click')\n      item.off('.configurator')\n\n      this._items = this._items.filter((oldItem) => oldItem !== item)\n\n      if (this._items.length === 0) {\n        this.$mainContainer.addClass('hidden')\n      }\n\n      this.trigger('removeItem', {\n        item\n      })\n    }\n  },\n\n  getItems () {\n    return Array.from(this._items)\n  },\n\n  getItemByElement ($element) {\n    return this._items.find(item => item.$container.is($element))\n  },\n\n  getSelectedItem () {\n    return this._items.find(item => item.isSelected())\n  },\n\n  selectItem (item, focusInput) {\n    focusInput = (typeof focusInput === 'boolean' ? focusInput : true)\n\n    const settings = item ? item.getSettings() : null\n\n    for (const i of this._items) {\n      const thisIsTheItem = i === item\n      i.toggleSelect(thisIsTheItem)\n\n      if (thisIsTheItem) {\n        const itemIsGroup = !(i instanceof BlockType)\n        this.$fieldLayoutButton.toggleClass('hidden', itemIsGroup)\n\n        if (itemIsGroup) {\n          this.selectTab('settings')\n        }\n      }\n    }\n\n    Craft.ElementThumbLoader.retryAll()\n\n    if (focusInput && settings && !Garnish.isMobileBrowser()) {\n      setTimeout(() => settings.getFocusInput().focus(), 100)\n    }\n  },\n\n  getBlockTypes () {\n    return this._items.filter(item => item instanceof BlockType)\n  },\n\n  getGroups () {\n    return this._items.filter(item => item instanceof Group)\n  },\n\n  selectTab (tab) {\n    this.$settingsContainer.toggleClass('hidden', tab !== 'settings')\n    this.$fieldLayoutContainer.toggleClass('hidden', tab !== 'fieldLayout')\n\n    this.$settingsButton.toggleClass('is-selected', tab === 'settings')\n    this.$fieldLayoutButton.toggleClass('is-selected', tab === 'fieldLayout')\n  },\n\n  _getNewBlockTypeSettingsHtml (blockTypeId) {\n    return this._blockTypeSettingsHtml.replace(/__NEOBLOCKTYPE_ID__/g, blockTypeId)\n  },\n\n  _getNewBlockTypeSettingsJs (blockTypeId) {\n    return this._blockTypeSettingsJs.replace(/__NEOBLOCKTYPE_ID__/g, blockTypeId)\n  },\n\n  _getNewFieldLayoutHtml () {\n    return this._fieldLayoutHtml.replace(\n      /&quot;uid&quot;:&quot;([a-f0-9-]+)&quot;/,\n      `&quot;uid&quot;:&quot;${uuidv4()}&quot;`\n    )\n  },\n\n  _getNewBlockTypeGroupSettingsHtml (groupId) {\n    return this._blockTypeGroupSettingsHtml.replace(/__NEOBLOCKTYPEGROUP_ID__/g, groupId)\n  },\n\n  _updateItemOrder () {\n    const items = []\n\n    this._itemSort.$items.each((index, element) => {\n      const item = this.getItemByElement(element)\n\n      if (item) {\n        items.push(item)\n\n        if (item instanceof BlockType) {\n          item.getSettings().refreshChildBlockTypes()\n        }\n      }\n    })\n\n    this._items = items\n  },\n\n  _createBlockTypeFrom (oldBlockType) {\n    const namespace = [...this._templateNs, 'items', 'blockTypes']\n    let id\n    do {\n      id = BlockTypeSettings.getNewId()\n    } while (this.$blockTypesContainer.find(`[data-neo-bt=\"container.${id}\"]`).length > 0)\n\n    const selectedItem = this.getSelectedItem()\n    const selectedIndex = selectedItem ? selectedItem.getSortOrder() : -1\n\n    if (oldBlockType === null) {\n      const settings = new BlockTypeSettings({\n        childBlockTypes: this.getBlockTypes(),\n        id,\n        namespace: [...namespace, id],\n        sortOrder: this._items.length,\n        html: this._getNewBlockTypeSettingsHtml(id),\n        js: this._getNewBlockTypeSettingsJs(id)\n      })\n      const fieldLayout = new BlockTypeFieldLayout({\n        blockTypeId: id,\n        html: this._getNewFieldLayoutHtml(),\n        namespace: [...namespace, id]\n      })\n\n      this._initBlockType(namespace, settings, fieldLayout, selectedIndex)\n    } else {\n      const $spinner = $('<div class=\"nc_sidebar_list_item type-spinner\"><span class=\"spinner\"></span></div>')\n      this._insertAt($spinner, selectedIndex)\n      oldBlockType.load()\n        .then(() => {\n          const oldSettings = oldBlockType.getSettings()\n          const settingsObj = {\n            childBlocks: oldSettings.getChildBlocks(),\n            conditions: oldSettings.getConditions(),\n            // Set a timestamp on the handle so it doesn't clash with the old one\n            handle: `${oldSettings.getHandle()}_${Date.now()}`,\n            id,\n            minBlocks: oldSettings.getMinBlocks(),\n            maxBlocks: oldSettings.getMaxBlocks(),\n            minChildBlocks: oldSettings.getMinChildBlocks(),\n            maxChildBlocks: oldSettings.getMaxChildBlocks(),\n            minSiblingBlocks: oldSettings.getMinSiblingBlocks(),\n            maxSiblingBlocks: oldSettings.getMaxSiblingBlocks(),\n            name: oldSettings.getName(),\n            description: oldSettings.getDescription(),\n            iconId: oldSettings.getIconId(),\n            enabled: oldSettings.getEnabled(),\n            ignorePermissions: oldSettings.getIgnorePermissions(),\n            sortOrder: this._items.length,\n            topLevel: oldSettings.getTopLevel()\n          }\n          const settings = new BlockTypeSettings({\n            ...settingsObj,\n            childBlockTypes: this.getBlockTypes(),\n            namespace: [...namespace, id]\n          })\n          const layout = oldBlockType.getFieldLayout().getConfig()\n          const data = {\n            settings: settingsObj,\n            layout: layout.tabs.length > 0 ? layout : null\n          }\n\n          Craft.queue.push(() => new Promise((resolve, reject) => {\n            Craft.sendActionRequest('POST', 'neo/configurator/render-block-type', { data })\n              .then(response => {\n                const fieldLayout = new BlockTypeFieldLayout({\n                  blockTypeId: id,\n                  html: response.data.layoutHtml,\n                  namespace: [...namespace, id]\n                })\n                settings.createContainer({\n                  html: response.data.settingsHtml.replace(/__NEOBLOCKTYPE_ID__/g, id),\n                  js: response.data.settingsJs.replace(/__NEOBLOCKTYPE_ID__/g, id)\n                })\n\n                this.$blockTypesContainer.find('.type-spinner').remove()\n                this._initBlockType(namespace, settings, fieldLayout, selectedIndex, true)\n                resolve()\n              })\n              .catch(reject)\n          }))\n        })\n        .catch(() => Craft.cp.displayError(Craft.t('neo', 'Couldnt create new block type.')))\n    }\n  },\n\n  _initBlockType (namespace, settings, fieldLayout, index, alreadyLoaded = false) {\n    const blockType = new BlockType({\n      namespace,\n      field: this,\n      settings,\n      fieldLayout,\n      alreadyLoaded\n    })\n\n    this.addItem(blockType, index)\n    this.selectItem(blockType)\n    this.selectTab('settings')\n\n    blockType.on('copy.configurator', () => this._copyBlockType(blockType))\n    blockType.on('paste.configurator', () => this._pasteBlockType())\n    blockType.on('clone.configurator', () => this._createBlockTypeFrom(blockType))\n  },\n\n  _copyBlockType (blockType) {\n    blockType.load()\n      .then(() => {\n        const settings = blockType.getSettings()\n        const data = {\n          childBlocks: settings.getChildBlocks(),\n          conditions: settings.getConditions(),\n          description: settings.getDescription(),\n          enabled: settings.getEnabled(),\n          iconId: settings.getIconId(),\n          ignorePermissions: settings.getIgnorePermissions(),\n          handle: settings.getHandle(),\n          layout: blockType.getFieldLayout().getConfig(),\n          minBlocks: settings.getMinBlocks(),\n          maxBlocks: settings.getMaxBlocks(),\n          minChildBlocks: settings.getMinChildBlocks(),\n          maxChildBlocks: settings.getMaxChildBlocks(),\n          minSiblingBlocks: settings.getMinSiblingBlocks(),\n          maxSiblingBlocks: settings.getMaxSiblingBlocks(),\n          name: settings.getName(),\n          topLevel: settings.getTopLevel()\n        }\n\n        window.localStorage.setItem('neo:copyBlockType', JSON.stringify(data))\n        this.getBlockTypes().forEach(bt => bt.$actionsMenu.find('[data-action=\"paste\"]').parent().removeClass('disabled'))\n      })\n      .catch(() => Craft.cp.displayError(Craft.t('neo', 'Couldnt copy block type.')))\n  },\n\n  _pasteBlockType () {\n    const encodedData = window.localStorage.getItem('neo:copyBlockType')\n\n    if (!encodedData) {\n      return\n    }\n\n    const data = JSON.parse(encodedData)\n    const blockTypeHandles = this.getBlockTypes().map(bt => bt.getSettings().getHandle())\n    const childBlocks = Array.isArray(data.childBlocks)\n      ? data.childBlocks.filter(cb => blockTypeHandles.includes(cb))\n      : (data.childBlocks ? true : [])\n    const settings = new BlockTypeSettings({\n      childBlocks,\n      childBlockTypes: this.getBlockTypes(),\n      conditions: data.conditions,\n      description: data.description,\n      iconId: data.iconId,\n      enabled: data.enabled,\n      ignorePermissions: data.ignorePermissions,\n      handle: data.handle,\n      minBlocks: data.minBlocks,\n      maxBlocks: data.maxBlocks,\n      minChildBlocks: data.minChildBlocks,\n      maxChildBlocks: data.maxChildBlocks,\n      minSiblingBlocks: data.minSiblingBlocks,\n      maxSiblingBlocks: data.maxSiblingBlocks,\n      name: data.name,\n      topLevel: data.topLevel,\n      html: ''\n    })\n\n    const fieldLayout = new BlockTypeFieldLayout({\n      html: this._getNewFieldLayoutHtml(),\n      layout: data.layout\n    })\n\n    const blockType = new BlockType({\n      field: this,\n      settings,\n      fieldLayout\n    })\n\n    this._createBlockTypeFrom(blockType)\n  },\n\n  _insertAt (element, index) {\n    const $element = $(element)\n\n    if (index >= 0 && index < this._items.length) {\n      $element.insertAt(index, this.$blockTypesContainer)\n    } else {\n      this.$blockTypesContainer.append($element)\n    }\n  },\n\n  '@newBlockType' () {\n    this._createBlockTypeFrom(null)\n  },\n\n  '@newGroup' () {\n    const namespace = [...this._templateNs, 'items', 'groups']\n    let id\n    do {\n      id = GroupSettings.getNewId()\n    } while (this.$blockTypesContainer.find(`[data-neo-g=\"container.${id}\"]`).length > 0)\n\n    const settings = new GroupSettings({\n      namespace: [...namespace, id],\n      html: this._getNewBlockTypeGroupSettingsHtml(id),\n      sortOrder: this._items.length,\n      id\n    })\n\n    const group = new Group({\n      namespace,\n      field: this,\n      settings\n    })\n\n    const selected = this.getSelectedItem()\n    const index = selected ? selected.getSortOrder() : -1\n\n    this.addItem(group, index)\n    this.selectItem(group)\n  },\n\n  '@selectItem' (e) {\n    const item = this.getItemByElement(e.currentTarget)\n\n    this.selectItem(item)\n  }\n})\n","import Configurator from './configurator/Configurator'\n\nconst context = window ?? this\nconst configurators = []\n\ncontext.Neo = {\n  Configurator,\n  configurators,\n\n  createConfigurator (settings = {}) {\n    const configurator = new Configurator(settings)\n    configurators.push(configurator)\n\n    return configurator\n  }\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","jQuery","$","insertAt","index","$parent","this","each","prepend","children","eq","after","Garnish","Craft","randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","options","buf","rnds","random","_stack","enter","segments","join","arguments","length","undefined","fromFieldName","joined","getNamespace","enterByFieldName","fieldName","leave","pop","Array","from","parse","value","indexOf","split","separator","prefix","toFieldName","replace","match","_defaults","settings","extend","$container","_field","_selected","init","assign","field","_settings","load","Promise","resolve","getField","getSettings","getSortOrder","select","toggleSelect","deselect","trigger","selected","isSelected","namespace","html","layout","id","uid","blockId","initJs","_templateNs","_initialisedJs","NS","_id","_uid","_blockTypeId","blockTypeId","find","removeAttr","nameInput","name","concat","JSON","stringify","_fld","elementType","customizableTabs","customizableUi","_updateChildBlocksUiElement","_tabObserver","window","MutationObserver","observe","$tabContainer","childList","subtree","getId","getUid","getBlockTypeId","getConfig","newConfig","tabs","tab","config","newElements","element","elements","newElement","selector","$uiLibraryElement","$uiLibraryElements","filter","$tabUiElement","toggleClass","hasClass","removeClass","fieldLayout","alreadyLoaded","Item","_loaded","_this$getField","base","settingsObj","_fieldLayout","sidebarItem","$sidebarContainer","_generateBlockType","$neo","$nameText","$handleText","$moveButton","$actionsButton","menubtn","_actionsMenu","data","on","e","$actionsMenu","menu","addListener","stopPropagation","_updateTemplate","sortOrderNamespace","sortOrderName","errors","getErrors","hasErrors","isArray","keys","getName","getHandle","getFieldLayout","_this$getFieldLayout$","_this$getFieldLayout","getFieldLayoutConfig","layoutId","getFieldLayoutId","reject","then","response","headHtml","bodyHtml","BlockTypeFieldLayout","layoutHtml","createContainer","settingsHtml","js","settingsJs","catch","_settings$$container","text","getTopLevel","_this$_actionsMenu","$option","option","hideMenu","attr","confirm","destroy","getFocusElement","_this$$foot","$foot","remove","_refreshSetting","showSetting","animate","css","opacity","marginBottom","outerHeight","velocity","addClass","BlockTypeIconSelect","constructor","container","_this$imageContainer$","_this$imageContainer","_this$imageContainer$2","_this$imageContainer2","_this$btnRemove","_defineProperty","imageContainer","querySelector","image","imageText","menuItems","querySelectorAll","btnSet","btnRemove","input","addEventListener","_","forEach","item","_item$querySelector","_item$querySelector2","filename","textContent","url","getAttribute","set","_this$image","_this$input","_this$btnRemove2","setAttribute","classList","_this$image2","_this$input2","_this$btnRemove3","add","sortOrder","fieldLayoutId","fieldLayoutConfig","handle","description","enabled","ignorePermissions","minBlocks","maxBlocks","minSiblingBlocks","maxSiblingBlocks","minChildBlocks","maxChildBlocks","topLevel","childBlocks","childBlockTypes","Settings","_childBlockTypes","_initialised","$nameInput","$handleInput","$descriptionInput","$minBlocksInput","$maxBlocksInput","$minSiblingBlocksInput","$maxSiblingBlocksInput","$minChildBlocksInput","$maxChildBlocksInput","$iconContainer","_childBlocks","_fieldLayoutId","_fieldLayoutConfig","_errors","_settingsChildBlockTypes","_originalSettings","_iconSelector","_afterCreateContainer","setName","setHandle","setDescription","_setIconId","iconId","setEnabled","setIgnorePermissions","setMinBlocks","setMaxBlocks","setMinSiblingBlocks","setMaxSiblingBlocks","setMinChildBlocks","setMaxChildBlocks","setTopLevel","containerData","_containerData$js","_js","$iconIdContainer","$enabledInput","$enabledContainer","$ignorePermissionsInput","$ignorePermissionsContainer","$minChildBlocksContainer","$maxChildBlocksContainer","$topLevelInput","$topLevelContainer","$groupChildBlockTypesInput","$groupChildBlockTypesContainer","$childBlocksInput","$childBlocksContainer","$deleteButton","initUi","append","_childBlocksSelect","_enabledLightswitch","_ignorePermissionsLightswitch","_topLevelLightswitch","_groupChildBlockTypesLightswitch","_handleGenerator","stopListening","blockType","addChildBlockType","setChildBlocks","val","listening","setTimeout","$iconIdInput","_refreshChildBlockSettings","_generateChildBlocksCheckbox","getFocusInput","isNew","test","_this$_name","_name","oldName","property","oldValue","newValue","_this$_handle","_handle","oldHandle","getDescription","_description","oldDescription","getIconId","_iconId","oldIconId","getEnabled","_enabled","_setLightswitchField","getIgnorePermissions","_ignorePermissions","ignore","getMinBlocks","_minBlocks","_setBlocksConstraint","getMaxBlocks","_maxBlocks","getMinSiblingBlocks","_minSiblingBlocks","getMaxSiblingBlocks","_maxSiblingBlocks","getMinChildBlocks","_minChildBlocks","getMaxChildBlocks","_maxChildBlocks","mode","privateProp","jqueryProp","Math","max","parseInt","_this$_topLevel","_topLevel","lightswitchProp","toggle","getChildBlocks","_this$_childBlocks","$all","$options","onAllChange","includes","$existingCheckbox","$checkbox","_refreshChildBlockType","allChecked","eventNs","removeChildBlockType","splice","off","getConditions","baseInputName","replaceAll","baseConditionInputNameWithExtraSlash","baseConditionInputName","conditionInputNames","map","condition","allFormData","FormData","closest","conditionsData","conditionInputName","conditionsSubData","conditionsCurrentPath","conditionsDataPath","pathStep","getAll","refreshChildBlockTypes","childBlockType","$sidebarItem","$refreshedBlockType","position","$currentChildBlockTypeAtPos","insertBefore","appendTo","showSettings","$input","$labelText","_totalNewBlockTypes","getNewId","_generateGroup","_settings$getName","groupId","alwaysShowDropdown","defaultAlwaysShowGroupDropdowns","$sortOrderInput","_alwaysShowDropdown","_defaultAlwaysShowGroupDropdowns","$alwaysShowDropdownContainer","_refreshAlwaysShowDropdown","getAlwaysShowDropdown","_this$_alwaysShowDrop","_totalNewGroups","blockTypes","groups","blockTypeSettingsHtml","blockTypeSettingsJs","fieldLayoutHtml","groupSettingsHtml","_items","inputIdPrefix","$field","_blockTypeSettingsHtml","_blockTypeSettingsJs","_fieldLayoutHtml","_blockTypeGroupSettingsHtml","blockTypeGroupSettingsHtml","$mainContainer","$blockTypesContainer","$settingsContainer","$fieldLayoutContainer","$blockTypeButton","$groupButton","$settingsButton","$fieldLayoutButton","_itemSort","axis","onSortChange","_updateItemOrder","existingItems","btNamespace","gNamespace","btInfo","btSettings","BlockTypeSettings","BlockType","_copyBlockType","_pasteBlockType","_createBlockTypeFrom","_blockType$getFieldLa","addItem","blockTypeSettings","getBlockTypes","gInfo","gSettings","GroupSettings","group","Group","sort","b","info","refreshPasteOptions","noPasteData","localStorage","getItem","parent","document","selectTab","contains","_insertAt","$items","addItems","removeItem","_addFieldLayout","showConfirm","message","type","removeItems","removeListener","oldItem","getItems","getItemByElement","$element","is","getSelectedItem","selectItem","focusInput","thisIsTheItem","itemIsGroup","retryAll","focus","getGroups","_getNewBlockTypeSettingsHtml","_getNewBlockTypeSettingsJs","_getNewFieldLayoutHtml","uuidv4","_getNewBlockTypeGroupSettingsHtml","items","oldBlockType","selectedItem","selectedIndex","_initBlockType","$spinner","oldSettings","conditions","Date","now","_objectSpread","displayError","setItem","bt","encodedData","blockTypeHandles","cb","currentTarget","context","_window","configurators","Neo","Configurator","createConfigurator","configurator"],"sourceRoot":""}